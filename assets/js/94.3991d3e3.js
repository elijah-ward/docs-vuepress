(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{444:function(e,t,a){"use strict";a.r(t);var n=a(0),i=Object(n.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"plugin-annotations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin-annotations","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin Annotations")]),e._v(" "),a("p",[e._v("Updated November 20, 2010")]),e._v(" "),a("h2",{attrs:{id:"about"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#about","aria-hidden":"true"}},[e._v("#")]),e._v(" About")]),e._v(" "),a("p",[e._v("Some Rundeck Plugins allow you to use annotations to add\n"),a("router-link",{attrs:{to:"/developer/01-plugin-development.html#plugin-descriptions"}},[e._v("description metadata")]),e._v("\nabout your plugin to the class\ndefinition itself, and Rundeck will extract that metadata for use in\ndisplaying the plugin information and configuration properties in the GUI, as\nwell as for applying the runtime configuration values to your plugin class\ninstance when it is being executed.")],1),e._v(" "),a("blockquote",[a("p",[e._v("Note, ResourceModelSource, NodeExecutor and FileCopier plugins currently do not support description annotations.")])]),e._v(" "),a("h2",{attrs:{id:"plugin-description"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin-description","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin Description")]),e._v(" "),a("p",[e._v("You can define the display name, and descriptive text about your plugin by adding a\n"),a("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/plugins/descriptions/PluginDescription.html"}},[e._v("PluginDescription")]),e._v(" annotation to your plugin class.")],1),e._v(" "),a("p",[e._v("Attributes of "),a("code",[e._v("@PluginDescription")]),e._v(":")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("title")]),e._v(" - the display name for your plugin")]),e._v(" "),a("li",[a("code",[e._v("description")]),e._v(" - descriptive text shown next to the display name")])]),e._v(" "),a("p",[e._v("Example:")]),e._v(" "),a("div",{staticClass:"language-{.java} extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('@Plugin(name="myplugin", service=ServiceNameConstants.WorkflowStep)\n@PluginDescription(title="My Plugin", description="Performs a custom step")\npublic class MyPlugin implements StepPlugin{\n    ...\n}\n')])])]),a("p",[a("em",[e._v("Note:")]),e._v(" If you do not add this annotation, the plugin display name will be the same as the provider name, and will have\nno descriptive text when displayed.")]),e._v(" "),a("h2",{attrs:{id:"plugin-provider-metadata"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin-provider-metadata","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin Provider Metadata")]),e._v(" "),a("p",[e._v("You can supply additional metadata about the plugin implementation, using the\n"),a("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/plugins/descriptions/PluginMetadata.html"}},[e._v("@PluginMetadata")]),e._v(" annotation.\nYou can provide multiple metadata entries with a "),a("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/plugins/descriptions/PluginMeta.html"}},[e._v("@PluginMeta")]),e._v("\nannotation, which can contain multiple "),a("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/plugins/descriptions/PluginMetadata.html"}},[e._v("@PluginMetadata")]),e._v(" values.")],1),e._v(" "),a("p",[e._v("Example:")]),e._v(" "),a("div",{staticClass:"language-{.java} extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('@Plugin(name="myplugin", service=ServiceNameConstants.WorkflowStep)\n@PluginMetadata(key="anykey", value="anyvalue")\npublic class MyPlugin implements StepPlugin{\n    ...\n}\n// or with multiple entries:\n@Plugin(name="myplugin", service=ServiceNameConstants.WorkflowStep)\n@PluginMeta(\n    {\n        @PluginMetadata(key="anykey", value="anyvalue"),\n        @PluginMetadata(key="otherkey", value="othervalue")\n    }\n)\npublic class MyPlugin implements StepPlugin{\n    ...\n}\n')])])]),a("p",[e._v("See [Provider Metadata](/developer/01-plugin-development.md#provider-metadata-1] for information about what metadata keys may be used.")]),e._v(" "),a("h2",{attrs:{id:"plugin-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin-properties","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin Properties")]),e._v(" "),a("p",[e._v("You can annotate individual fields in your class to define the configuration\nproperties of your class. These are the supported Java types for annotated fields:")]),e._v(" "),a("ul",[a("li",[e._v("String")]),e._v(" "),a("li",[e._v("Boolean/boolean")]),e._v(" "),a("li",[e._v("Integer/integer, Long/long")]),e._v(" "),a("li",[a("code",[e._v("Set")]),e._v(", "),a("code",[e._v("List")]),e._v(", "),a("code",[e._v("String[]")]),e._v(" (if used with "),a("code",[e._v("@SelectValues(multiOption = true)")]),e._v(")")])]),e._v(" "),a("p",[e._v("When your plugin is executed, the fields will be set to the appropriate values\nbased on their default value, scope, and any value set by the user in the\nworkflow configuration.")]),e._v(" "),a("p",[e._v("These annotation classes are used:")]),e._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/plugins/descriptions/PluginProperty.html"}},[e._v("PluginProperty")]),e._v(" - Declares a class field as a plugin configuration property")],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/plugins/descriptions/SelectValues.html"}},[e._v("SelectValues")]),e._v(' - Declares a String property to be a "Select" property, which defines a set of input values that can be chosen from a list. Can be used with '),a("code",[e._v("multiOption")]),e._v(" attribute to declare a "),a("code",[e._v("Set")]),e._v(", "),a("code",[e._v("List")]),e._v(" or "),a("code",[e._v("String[]")]),e._v(" and allow multiple values to be chosen. If "),a("code",[e._v("multiOption")]),e._v(" is used with a String, the value will be the values joined with a "),a("code",[e._v(",")]),e._v(" (comma).")],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/plugins/descriptions/TextArea.html"}},[e._v("TextArea")]),e._v(" - Declares a String property to be rendered as a multi-line text area in the Rundeck GUI.")],1)]),e._v(" "),a("p",[e._v("Attributes:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("@PluginProperty")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("name")]),e._v(" - the property identifier name")]),e._v(" "),a("li",[a("code",[e._v("title")]),e._v(" - the property display name")]),e._v(" "),a("li",[a("code",[e._v("description")]),e._v(" - descriptive text")]),e._v(" "),a("li",[a("code",[e._v("defaultValue")]),e._v(" - default value")]),e._v(" "),a("li",[a("code",[e._v("required")]),e._v(" - (boolean) whether the property is required to have an input value. Default: false.")]),e._v(" "),a("li",[a("code",[e._v("scope")]),e._v(" (PropertyScope) the resolution scope for the property value")])])]),e._v(" "),a("li",[a("code",[e._v("@SelectValues")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("values")]),e._v(" (String[]) the set of values that can be chosen")]),e._v(" "),a("li",[a("code",[e._v("freeSelect")]),e._v(" (boolean) whether the user can enter values not in the list. Default: false.")]),e._v(" "),a("li",[a("code",[e._v("multiOption")]),e._v(" (boolean) whether multiple values can be selected as checkboxes, cannot be used with freeSelect. Default: false.")])])])]),e._v(" "),a("p",[e._v("Examples:")]),e._v(" "),a("div",{staticClass:"language-{.java} extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('@PluginProperty(title = "Name", description = "What is your name?", required = true)\nprivate String name;\n\n@PluginProperty(title = "Age", description = "How old are you?")\nprivate int amount;\n\n@PluginProperty(title = "Favorite Fruit",\n                description = "What is your favorite fruit?",\n                defaultValue = "banana")\n@SelectValues(values = {"banana", "lemon", "orange"}, freeSelect = true)\nprivate String fruit;\n')])])]),a("h2",{attrs:{id:"property-scopes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-scopes","aria-hidden":"true"}},[e._v("#")]),e._v(" Property Scopes")]),e._v(" "),a("p",[e._v("You can define the scope for a property by adding "),a("code",[e._v("scope")]),e._v(" to the PluginProperty annotation. Refer to the class "),a("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/plugins/configuration/PropertyScope.html"}},[e._v("PropertyScope")]),e._v(".")],1),e._v(" "),a("p",[e._v("The default effective scope if you do not specify it in the annotation is "),a("code",[e._v("InstanceOnly")]),e._v(".")]),e._v(" "),a("p",[e._v("For more information see [Property Scopes](/developer/01-plugin-development.md#property-scopes].")])])},[],!1,null,null,null);t.default=i.exports}}]);