(window.webpackJsonp=window.webpackJsonp||[]).push([[219],{268:function(e,t,o){"use strict";o.r(t);var n=o(0),a=Object(n.a)({},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"commands"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#commands","aria-hidden":"true"}},[e._v("#")]),e._v(" Commands")]),e._v(" "),o("hr"),e._v(" "),o("p",[e._v("Updated January 30, 2014")]),e._v(" "),o("p",[e._v("A "),o("em",[e._v("command")]),e._v(" is a single executable string executed on a Node.\nRundeck invokes commands on nodes via a "),o("em",[e._v("node executor")]),e._v("\nwhich evaluates the command string and executes it.\nNode executors evaluate the command string in a data context\ncontaining information about the Node resource. Command strings\ncan reference this data and thus avoid hard coding node or environment\nspecific values.")]),e._v(" "),o("p",[e._v("The Rundeck graphical console provides the ability to execute\ncommands to a set of filtered Node resources.\nThe Command page can accept any command string you might run\nvia an SSH command or via the "),o("a",{attrs:{href:"https://rundeck.github.io/rundeck-cli/commands/#adhoc",target:"_blank",rel:"noopener noreferrer"}},[e._v("rd adhoc"),o("OutboundLink")],1),e._v(" shell tool.")]),e._v(" "),o("blockquote",[o("p",[e._v("Note, your ability to view Nodes and execute commands on them\ndepends on your ACL policy.")])]),e._v(" "),o("h2",{attrs:{id:"commands-tab-overview"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#commands-tab-overview","aria-hidden":"true"}},[e._v("#")]),e._v(" Commands tab overview")]),e._v(" "),o("p",[e._v('Navigate to this page by clicking on the "Commands" tab in the navigation\nbar. Alternatively, go to the Nodes tab and choose the "Node Actions" menu\nand select the "Run a command ..." menu item.')]),e._v(" "),o("p",[o("img",{attrs:{src:"/figures/fig0207.png",alt:""}})]),e._v(" "),o("p",[e._v("The screenshot above shows the elements of the Commands page user interface.")]),e._v(" "),o("ol",[o("li",[e._v("Command prompt - Enter the command string.")]),e._v(" "),o("li",[e._v("Command dispatch settings - Optional settings to control concurrency and errors.")]),e._v(" "),o("li",[e._v("Filter expression - Search expression to match nodes.")]),e._v(" "),o("li",[e._v("Filter results list - Matching nodes presented as a list here.")]),e._v(" "),o("li",[e._v("Run command button - Execute command for command string and matched nodes.")]),e._v(" "),o("li",[e._v("Activity views - Historical views of command executions.")])]),e._v(" "),o("h2",{attrs:{id:"enter-a-command"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#enter-a-command","aria-hidden":"true"}},[e._v("#")]),e._v(" Enter a command")]),e._v(" "),o("p",[o("img",{attrs:{src:"/figures/fig0207-a.png",alt:"Input command string"}})]),e._v(" "),o("p",[e._v("Enter the command string you wish to execute on the Nodes. This command\nstring must be a valid command statement that can be executed on the nodes.")]),e._v(" "),o("h3",{attrs:{id:"dispatch-settings"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#dispatch-settings","aria-hidden":"true"}},[e._v("#")]),e._v(" Dispatch settings")]),e._v(" "),o("p",[o("img",{attrs:{src:"/figures/fig0208-b.png",alt:"Choose dispatch settings"}})]),e._v(" "),o("p",[e._v("The dispatch settings let you control the amount of concurrency and error\nhandling for the command execution.")]),e._v(" "),o("ul",[o("li",[e._v("Thread count: Number of concurrent command executions. By default the value is 1 which causes a sequential execution.")]),e._v(" "),o("li",[e._v("On node failure: If a command execution fails on the node, you can choose to continue (default) or stop immediately at the failed node.")])]),e._v(" "),o("h2",{attrs:{id:"select-the-nodes"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#select-the-nodes","aria-hidden":"true"}},[e._v("#")]),e._v(" Select the nodes")]),e._v(" "),o("p",[o("img",{attrs:{src:"/figures/fig0207-b.png",alt:"Filter the nodes"}})]),e._v(" "),o("p",[e._v('You can choose the nodes by either choosing a saved filter or typing in your own\nfilter expression. Press the "Set Filter" button to find the matched nodes.\nYou can get help on filter expression syntax by pressing the help button.')]),e._v(" "),o("h3",{attrs:{id:"node-detail"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#node-detail","aria-hidden":"true"}},[e._v("#")]),e._v(" Node detail")]),e._v(" "),o("p",[e._v("Each of the matched nodes is linked to a detail view where you can inspect\nthe Node's attribute values (1).")]),e._v(" "),o("p",[e._v("You can click the filter links inside the detail\nview to continue building your filter expression (2).")]),e._v(" "),o("p",[o("img",{attrs:{src:"/figures/fig0208-a.png",alt:"Node detail"}})]),e._v(" "),o("h2",{attrs:{id:"execute-command"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#execute-command","aria-hidden":"true"}},[e._v("#")]),e._v(" Execute command")]),e._v(" "),o("p",[e._v('With the command string and filter entered you are ready to run the command.\nPress the "Run on x Nodes" button to begin the execution.')]),e._v(" "),o("p",[e._v("The command will be\ndispatched to all the Nodes matched by the filter.\nThe command prompt and run button become disabled until\nthe execution completes. Output from the command execution is shown\nbelow.")]),e._v(" "),o("p",[o("img",{attrs:{src:"/figures/fig0208.png",alt:"Command execution output"}})]),e._v(" "),o("ol",[o("li",[e._v("Link to execution page: Every execution has an ID an a separate page to follow it and view a report after it completes.")]),e._v(" "),o("li",[e._v("View options: Output is automatically collated by node and contains time information. You can toggle these as desired.")]),e._v(" "),o("li",[e._v("Collated output: All output is grouped by the node.")]),e._v(" "),o("li",[e._v("Output log links: You can view the raw output in the browser or download it to your desktop.")])]),e._v(" "),o("p",[e._v('You can dismiss the output by pressing the "X" button above the Download link.')]),e._v(" "),o("h2",{attrs:{id:"monitor-the-execution"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#monitor-the-execution","aria-hidden":"true"}},[e._v("#")]),e._v(" Monitor the execution")]),e._v(" "),o("p",[e._v("Once the command execution begins you can monitor its progress on the\nCommands page or a separate execution follow page discussed later.")]),e._v(" "),o("p",[o("img",{attrs:{src:"/figures/fig0207-c.png",alt:"Now running a command"}})]),e._v(" "),o("ol",[o("li",[e._v("Kill job button: You can kill the execution by pressing this button.")]),e._v(" "),o("li",[e._v('Execution status bar: If you dismissed the output view, you can continue monitoring progress in the "running" tab in the Activity section.')])]),e._v(" "),o("h3",{attrs:{id:"output-view-options"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#output-view-options","aria-hidden":"true"}},[e._v("#")]),e._v(" Output view options")]),e._v(" "),o("p",[e._v("This page section provides several views to read the output using different formats.")]),e._v(" "),o("p",[o("img",{attrs:{src:"/figures/fig0209.png",alt:"View options"}})]),e._v(" "),o("p",[e._v("Log view")]),e._v(" "),o("p",[e._v(": Displays output messages from the command execution as if you were\nrunning the Unix "),o("code",[e._v("tail -f")]),e._v(" command on the output log file.\n"),o("img",{attrs:{src:"/figures/fig0208.png",alt:"Execution output"}})]),e._v(" "),o("p",[e._v("By Node")]),e._v(" "),o("p",[e._v(": Output messages are sorted into Node specific sections and are not\ninterlaced. By default, the messages are collapsed but can be\nrevealed by pressing the disclosure icon to the right.\n"),o("img",{attrs:{src:"/figures/fig0210.png",alt:"Collapsed output"}})]),e._v(" "),o("h3",{attrs:{id:"execution-follow-page"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#execution-follow-page","aria-hidden":"true"}},[e._v("#")]),e._v(" Execution follow page")]),e._v(" "),o("p",[e._v('Sometimes it is useful to have a page where just the execution output\nis displayed separately. One purpose is to share a link to others\ninterested in following the output messages. Click the progress bar\nin the "Activity" section to go to the execution follow page.')]),e._v(" "),o("p",[o("img",{attrs:{src:"/figures/fig0207-d.png",alt:"Execution follow view"}})]),e._v(" "),o("p",[e._v("Notice the URL in the location bar of your browser. This URL can\nbe shared to others interested in the progress of execution. The URL\ncontains the execution ID (EID) and has a form like:")]),e._v(" "),o("pre",[o("code",[e._v(" http://rundeckserver/project/prod/execution/show/{EID}\n")])]),e._v(" "),o("p",[e._v("After execution completes, the command will have a status:")]),e._v(" "),o("ul",[o("li",[e._v("Successful: No errors occurred during execution of the command\nacross the filtered Node set")]),e._v(" "),o("li",[e._v('Failed: One or more errors occurred. A list of Nodes that incurred\nan error is displayed. The page will also contain a link "Retry\nFailed Nodes..." in case you would like to retry the command.')])]),e._v(" "),o("h2",{attrs:{id:"execution-history"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#execution-history","aria-hidden":"true"}},[e._v("#")]),e._v(" Execution history")]),e._v(" "),o("p",[e._v("The Commands page provides several views about execution history.")]),e._v(" "),o("ul",[o("li",[e._v("running: Shows any currently running command executions.")]),e._v(" "),o("li",[e._v("recent: Shows any executions from the last 24 hours.")]),e._v(" "),o("li",[e._v("failed: Shows failed executions from last 24 hours.")]),e._v(" "),o("li",[e._v("by you: Shows executions started by you.")])]),e._v(" "),o("p",[o("img",{attrs:{src:"/figures/fig0207-e.png",alt:"Recent history"}})]),e._v(" "),o("p",[e._v('You can further search activity history by clicking the "Filter activity..." link.')]),e._v(" "),o("h2",{attrs:{id:"related-command-line-tools"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#related-command-line-tools","aria-hidden":"true"}},[e._v("#")]),e._v(" Related Command line tools")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://rundeck.github.io/rundeck-cli/commands/#adhoc",target:"_blank",rel:"noopener noreferrer"}},[e._v("rd adhoc"),o("OutboundLink")],1),e._v("\n~ Execute ad hoc commands and scripts to matching nodes.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://rundeck.github.io/rundeck-cli/commands/#executions",target:"_blank",rel:"noopener noreferrer"}},[e._v("rd executions"),o("OutboundLink")],1),e._v("\n~ List running executions, attach and follow their output, or kill them.")])])},[],!1,null,null,null);t.default=a.exports}}]);