<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Script Node Execution | Rundeck Docs</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/docs/assets/css/0.styles.08a0a794.css" as="style"><link rel="preload" href="/docs/assets/js/app.6582d6fa.js" as="script"><link rel="preload" href="/docs/assets/js/3.6dae5529.js" as="script"><link rel="preload" href="/docs/assets/js/89.3597d562.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.54c2048f.js"><link rel="prefetch" href="/docs/assets/js/100.5c98125a.js"><link rel="prefetch" href="/docs/assets/js/101.02777eae.js"><link rel="prefetch" href="/docs/assets/js/102.7ceae3c6.js"><link rel="prefetch" href="/docs/assets/js/103.c6ae742b.js"><link rel="prefetch" href="/docs/assets/js/104.61e77571.js"><link rel="prefetch" href="/docs/assets/js/105.098c7682.js"><link rel="prefetch" href="/docs/assets/js/106.4176105e.js"><link rel="prefetch" href="/docs/assets/js/107.bf44eff6.js"><link rel="prefetch" href="/docs/assets/js/108.bdfd458c.js"><link rel="prefetch" href="/docs/assets/js/109.a83a79ff.js"><link rel="prefetch" href="/docs/assets/js/11.b1ef3ffd.js"><link rel="prefetch" href="/docs/assets/js/110.24726d31.js"><link rel="prefetch" href="/docs/assets/js/111.e23938f1.js"><link rel="prefetch" href="/docs/assets/js/112.c7be4f3c.js"><link rel="prefetch" href="/docs/assets/js/113.588b3b95.js"><link rel="prefetch" href="/docs/assets/js/114.7b521ef2.js"><link rel="prefetch" href="/docs/assets/js/115.c93d681c.js"><link rel="prefetch" href="/docs/assets/js/116.029becda.js"><link rel="prefetch" href="/docs/assets/js/117.0c1527e2.js"><link rel="prefetch" href="/docs/assets/js/118.6c0ffab5.js"><link rel="prefetch" href="/docs/assets/js/119.1aae4623.js"><link rel="prefetch" href="/docs/assets/js/12.00f5373b.js"><link rel="prefetch" href="/docs/assets/js/120.a4985aac.js"><link rel="prefetch" href="/docs/assets/js/121.2813be8f.js"><link rel="prefetch" href="/docs/assets/js/122.ae99623f.js"><link rel="prefetch" href="/docs/assets/js/123.f0e885b7.js"><link rel="prefetch" href="/docs/assets/js/124.51db18fe.js"><link rel="prefetch" href="/docs/assets/js/125.3c2cd1f1.js"><link rel="prefetch" href="/docs/assets/js/126.c4574b49.js"><link rel="prefetch" href="/docs/assets/js/127.17105e07.js"><link rel="prefetch" href="/docs/assets/js/128.5e6f8f6a.js"><link rel="prefetch" href="/docs/assets/js/129.9ab5700c.js"><link rel="prefetch" href="/docs/assets/js/13.1ceae6f9.js"><link rel="prefetch" href="/docs/assets/js/130.efbe3fac.js"><link rel="prefetch" href="/docs/assets/js/131.56cd8331.js"><link rel="prefetch" href="/docs/assets/js/132.59e801ad.js"><link rel="prefetch" href="/docs/assets/js/133.fcdca57a.js"><link rel="prefetch" href="/docs/assets/js/134.7308d9d5.js"><link rel="prefetch" href="/docs/assets/js/135.71af935b.js"><link rel="prefetch" href="/docs/assets/js/136.710642c2.js"><link rel="prefetch" href="/docs/assets/js/137.987c2cbc.js"><link rel="prefetch" href="/docs/assets/js/138.1c385577.js"><link rel="prefetch" href="/docs/assets/js/139.dc09bf3b.js"><link rel="prefetch" href="/docs/assets/js/14.9d1e5deb.js"><link rel="prefetch" href="/docs/assets/js/140.779278df.js"><link rel="prefetch" href="/docs/assets/js/141.44c6dd7b.js"><link rel="prefetch" href="/docs/assets/js/142.86c79bb1.js"><link rel="prefetch" href="/docs/assets/js/143.fcc620b8.js"><link rel="prefetch" href="/docs/assets/js/144.294c54cd.js"><link rel="prefetch" href="/docs/assets/js/145.9c5d0b3e.js"><link rel="prefetch" href="/docs/assets/js/146.2dc459f5.js"><link rel="prefetch" href="/docs/assets/js/147.bfd3ced8.js"><link rel="prefetch" href="/docs/assets/js/148.fcf2c664.js"><link rel="prefetch" href="/docs/assets/js/149.849b7e40.js"><link rel="prefetch" href="/docs/assets/js/15.18762533.js"><link rel="prefetch" href="/docs/assets/js/150.f9ff2839.js"><link rel="prefetch" href="/docs/assets/js/151.325da5d0.js"><link rel="prefetch" href="/docs/assets/js/152.4fa6b9a1.js"><link rel="prefetch" href="/docs/assets/js/153.06798c32.js"><link rel="prefetch" href="/docs/assets/js/154.ebf06d93.js"><link rel="prefetch" href="/docs/assets/js/155.224de0aa.js"><link rel="prefetch" href="/docs/assets/js/156.4dbef0f9.js"><link rel="prefetch" href="/docs/assets/js/157.bfb92b9f.js"><link rel="prefetch" href="/docs/assets/js/158.6b0b3d20.js"><link rel="prefetch" href="/docs/assets/js/159.e3542c92.js"><link rel="prefetch" href="/docs/assets/js/16.b2e92429.js"><link rel="prefetch" href="/docs/assets/js/160.6cc07e6a.js"><link rel="prefetch" href="/docs/assets/js/161.aab1aa31.js"><link rel="prefetch" href="/docs/assets/js/162.105cf965.js"><link rel="prefetch" href="/docs/assets/js/163.26e988e0.js"><link rel="prefetch" href="/docs/assets/js/164.0d7b9c20.js"><link rel="prefetch" href="/docs/assets/js/165.7530f186.js"><link rel="prefetch" href="/docs/assets/js/166.e479d253.js"><link rel="prefetch" href="/docs/assets/js/167.95afb95c.js"><link rel="prefetch" href="/docs/assets/js/168.f3796bfc.js"><link rel="prefetch" href="/docs/assets/js/169.fa91d078.js"><link rel="prefetch" href="/docs/assets/js/17.bd255b61.js"><link rel="prefetch" href="/docs/assets/js/170.126ed06f.js"><link rel="prefetch" href="/docs/assets/js/171.a56ac0eb.js"><link rel="prefetch" href="/docs/assets/js/172.08a5e79d.js"><link rel="prefetch" href="/docs/assets/js/173.49f00513.js"><link rel="prefetch" href="/docs/assets/js/174.b1f011a1.js"><link rel="prefetch" href="/docs/assets/js/175.c2992e8d.js"><link rel="prefetch" href="/docs/assets/js/176.b7021ae0.js"><link rel="prefetch" href="/docs/assets/js/177.95bdd137.js"><link rel="prefetch" href="/docs/assets/js/178.987b385b.js"><link rel="prefetch" href="/docs/assets/js/179.a6e4cdc8.js"><link rel="prefetch" href="/docs/assets/js/18.55d4cf16.js"><link rel="prefetch" href="/docs/assets/js/180.b91930e3.js"><link rel="prefetch" href="/docs/assets/js/181.28d07a3d.js"><link rel="prefetch" href="/docs/assets/js/182.bf355b6f.js"><link rel="prefetch" href="/docs/assets/js/183.6dbb0e3e.js"><link rel="prefetch" href="/docs/assets/js/184.a3bd0ef6.js"><link rel="prefetch" href="/docs/assets/js/185.c99eaea8.js"><link rel="prefetch" href="/docs/assets/js/186.dffce1b2.js"><link rel="prefetch" href="/docs/assets/js/187.47770a7c.js"><link rel="prefetch" href="/docs/assets/js/188.cdec381b.js"><link rel="prefetch" href="/docs/assets/js/189.2e8644b5.js"><link rel="prefetch" href="/docs/assets/js/19.26eec01d.js"><link rel="prefetch" href="/docs/assets/js/190.739c8bd4.js"><link rel="prefetch" href="/docs/assets/js/191.889b9f87.js"><link rel="prefetch" href="/docs/assets/js/192.76177e51.js"><link rel="prefetch" href="/docs/assets/js/193.030738be.js"><link rel="prefetch" href="/docs/assets/js/194.2f6ed012.js"><link rel="prefetch" href="/docs/assets/js/195.2417c214.js"><link rel="prefetch" href="/docs/assets/js/196.e9933890.js"><link rel="prefetch" href="/docs/assets/js/197.d82d324c.js"><link rel="prefetch" href="/docs/assets/js/198.ef62a474.js"><link rel="prefetch" href="/docs/assets/js/199.e3344347.js"><link rel="prefetch" href="/docs/assets/js/20.b5e67d47.js"><link rel="prefetch" href="/docs/assets/js/200.fee69326.js"><link rel="prefetch" href="/docs/assets/js/201.8d16b44d.js"><link rel="prefetch" href="/docs/assets/js/202.13f8c386.js"><link rel="prefetch" href="/docs/assets/js/203.8e59c498.js"><link rel="prefetch" href="/docs/assets/js/204.d65ede90.js"><link rel="prefetch" href="/docs/assets/js/205.91bdfd23.js"><link rel="prefetch" href="/docs/assets/js/206.6801f42a.js"><link rel="prefetch" href="/docs/assets/js/207.b39463bd.js"><link rel="prefetch" href="/docs/assets/js/208.7e6f8730.js"><link rel="prefetch" href="/docs/assets/js/209.eb190ec5.js"><link rel="prefetch" href="/docs/assets/js/21.92fedc30.js"><link rel="prefetch" href="/docs/assets/js/210.2fa1d8b6.js"><link rel="prefetch" href="/docs/assets/js/211.6b0d6225.js"><link rel="prefetch" href="/docs/assets/js/212.13736701.js"><link rel="prefetch" href="/docs/assets/js/213.f82c2a54.js"><link rel="prefetch" href="/docs/assets/js/214.2ac25b7f.js"><link rel="prefetch" href="/docs/assets/js/215.3aa286d5.js"><link rel="prefetch" href="/docs/assets/js/216.d96bd52d.js"><link rel="prefetch" href="/docs/assets/js/217.55cc5376.js"><link rel="prefetch" href="/docs/assets/js/218.f2b002a4.js"><link rel="prefetch" href="/docs/assets/js/219.6792262a.js"><link rel="prefetch" href="/docs/assets/js/22.7f7373cb.js"><link rel="prefetch" href="/docs/assets/js/220.be07b32c.js"><link rel="prefetch" href="/docs/assets/js/221.b244df89.js"><link rel="prefetch" href="/docs/assets/js/222.bd8aeb2a.js"><link rel="prefetch" href="/docs/assets/js/223.4e038875.js"><link rel="prefetch" href="/docs/assets/js/224.630b2d06.js"><link rel="prefetch" href="/docs/assets/js/225.f0e8a11b.js"><link rel="prefetch" href="/docs/assets/js/226.acd11717.js"><link rel="prefetch" href="/docs/assets/js/227.942915c4.js"><link rel="prefetch" href="/docs/assets/js/228.69ace405.js"><link rel="prefetch" href="/docs/assets/js/229.09578bc9.js"><link rel="prefetch" href="/docs/assets/js/23.3f429280.js"><link rel="prefetch" href="/docs/assets/js/230.36996e25.js"><link rel="prefetch" href="/docs/assets/js/231.56a59a1e.js"><link rel="prefetch" href="/docs/assets/js/232.25076392.js"><link rel="prefetch" href="/docs/assets/js/233.cd6651c6.js"><link rel="prefetch" href="/docs/assets/js/234.ac759890.js"><link rel="prefetch" href="/docs/assets/js/235.2b560974.js"><link rel="prefetch" href="/docs/assets/js/236.eb60a53c.js"><link rel="prefetch" href="/docs/assets/js/237.a8fd1533.js"><link rel="prefetch" href="/docs/assets/js/238.de59b011.js"><link rel="prefetch" href="/docs/assets/js/239.26f88e90.js"><link rel="prefetch" href="/docs/assets/js/24.44421737.js"><link rel="prefetch" href="/docs/assets/js/240.8b0ca283.js"><link rel="prefetch" href="/docs/assets/js/241.60f2e672.js"><link rel="prefetch" href="/docs/assets/js/242.da182e81.js"><link rel="prefetch" href="/docs/assets/js/243.edd2ecb3.js"><link rel="prefetch" href="/docs/assets/js/244.747046b9.js"><link rel="prefetch" href="/docs/assets/js/245.832bd80a.js"><link rel="prefetch" href="/docs/assets/js/246.fb21c6aa.js"><link rel="prefetch" href="/docs/assets/js/247.dc935cf4.js"><link rel="prefetch" href="/docs/assets/js/248.a80848aa.js"><link rel="prefetch" href="/docs/assets/js/249.1a6f0442.js"><link rel="prefetch" href="/docs/assets/js/25.49826821.js"><link rel="prefetch" href="/docs/assets/js/250.112d965e.js"><link rel="prefetch" href="/docs/assets/js/251.49367857.js"><link rel="prefetch" href="/docs/assets/js/252.3396c5ac.js"><link rel="prefetch" href="/docs/assets/js/253.69425748.js"><link rel="prefetch" href="/docs/assets/js/254.5915d97d.js"><link rel="prefetch" href="/docs/assets/js/255.f6280d0c.js"><link rel="prefetch" href="/docs/assets/js/256.1235cb9a.js"><link rel="prefetch" href="/docs/assets/js/257.ddca4382.js"><link rel="prefetch" href="/docs/assets/js/258.bad776b4.js"><link rel="prefetch" href="/docs/assets/js/259.8f4f6704.js"><link rel="prefetch" href="/docs/assets/js/26.6bbf7d4d.js"><link rel="prefetch" href="/docs/assets/js/260.0891790e.js"><link rel="prefetch" href="/docs/assets/js/261.a9d5f8b4.js"><link rel="prefetch" href="/docs/assets/js/262.97cea416.js"><link rel="prefetch" href="/docs/assets/js/263.42a25cd0.js"><link rel="prefetch" href="/docs/assets/js/264.6cfc8fb5.js"><link rel="prefetch" href="/docs/assets/js/265.41be13f0.js"><link rel="prefetch" href="/docs/assets/js/266.b6f7d581.js"><link rel="prefetch" href="/docs/assets/js/267.809330a7.js"><link rel="prefetch" href="/docs/assets/js/268.b505c2c4.js"><link rel="prefetch" href="/docs/assets/js/269.905e36e6.js"><link rel="prefetch" href="/docs/assets/js/27.1b3cac9a.js"><link rel="prefetch" href="/docs/assets/js/270.6a70cd51.js"><link rel="prefetch" href="/docs/assets/js/271.4e14074b.js"><link rel="prefetch" href="/docs/assets/js/272.975cebb9.js"><link rel="prefetch" href="/docs/assets/js/273.0de90d70.js"><link rel="prefetch" href="/docs/assets/js/274.738e48cb.js"><link rel="prefetch" href="/docs/assets/js/275.7f32a753.js"><link rel="prefetch" href="/docs/assets/js/276.b495beb9.js"><link rel="prefetch" href="/docs/assets/js/277.7185f3bc.js"><link rel="prefetch" href="/docs/assets/js/278.56dd2872.js"><link rel="prefetch" href="/docs/assets/js/279.fded7b42.js"><link rel="prefetch" href="/docs/assets/js/28.f1474895.js"><link rel="prefetch" href="/docs/assets/js/280.1fe294eb.js"><link rel="prefetch" href="/docs/assets/js/281.19905adb.js"><link rel="prefetch" href="/docs/assets/js/282.46d4acc5.js"><link rel="prefetch" href="/docs/assets/js/283.54399bd5.js"><link rel="prefetch" href="/docs/assets/js/284.8038cab2.js"><link rel="prefetch" href="/docs/assets/js/285.63de39bf.js"><link rel="prefetch" href="/docs/assets/js/286.432c770f.js"><link rel="prefetch" href="/docs/assets/js/287.072cdfd3.js"><link rel="prefetch" href="/docs/assets/js/288.b0ef6c07.js"><link rel="prefetch" href="/docs/assets/js/29.cd78f03a.js"><link rel="prefetch" href="/docs/assets/js/30.9df9ebfb.js"><link rel="prefetch" href="/docs/assets/js/31.bbc4ea12.js"><link rel="prefetch" href="/docs/assets/js/32.7322b1d9.js"><link rel="prefetch" href="/docs/assets/js/33.71fd465b.js"><link rel="prefetch" href="/docs/assets/js/34.b2091dca.js"><link rel="prefetch" href="/docs/assets/js/35.50ccd7ff.js"><link rel="prefetch" href="/docs/assets/js/36.030df93b.js"><link rel="prefetch" href="/docs/assets/js/37.f27b64ac.js"><link rel="prefetch" href="/docs/assets/js/38.e4663cef.js"><link rel="prefetch" href="/docs/assets/js/39.44d5d31c.js"><link rel="prefetch" href="/docs/assets/js/4.6fafcd1e.js"><link rel="prefetch" href="/docs/assets/js/40.8e9af31d.js"><link rel="prefetch" href="/docs/assets/js/41.a7531105.js"><link rel="prefetch" href="/docs/assets/js/42.b7d59ac4.js"><link rel="prefetch" href="/docs/assets/js/43.b423f123.js"><link rel="prefetch" href="/docs/assets/js/44.7aad0343.js"><link rel="prefetch" href="/docs/assets/js/45.6126562a.js"><link rel="prefetch" href="/docs/assets/js/46.e9ac70c2.js"><link rel="prefetch" href="/docs/assets/js/47.dcc2cc7a.js"><link rel="prefetch" href="/docs/assets/js/48.9ca6b49c.js"><link rel="prefetch" href="/docs/assets/js/49.090c36bf.js"><link rel="prefetch" href="/docs/assets/js/5.c68195cc.js"><link rel="prefetch" href="/docs/assets/js/50.99fee908.js"><link rel="prefetch" href="/docs/assets/js/51.1dc853d7.js"><link rel="prefetch" href="/docs/assets/js/52.80e27920.js"><link rel="prefetch" href="/docs/assets/js/53.ad88ddef.js"><link rel="prefetch" href="/docs/assets/js/54.94cf4ca2.js"><link rel="prefetch" href="/docs/assets/js/55.30bc268d.js"><link rel="prefetch" href="/docs/assets/js/56.1810455d.js"><link rel="prefetch" href="/docs/assets/js/57.765ca340.js"><link rel="prefetch" href="/docs/assets/js/58.563bed6b.js"><link rel="prefetch" href="/docs/assets/js/59.2116f1d0.js"><link rel="prefetch" href="/docs/assets/js/6.3e98075e.js"><link rel="prefetch" href="/docs/assets/js/60.6ae94484.js"><link rel="prefetch" href="/docs/assets/js/61.8cc1c29b.js"><link rel="prefetch" href="/docs/assets/js/62.6de7ddd9.js"><link rel="prefetch" href="/docs/assets/js/63.b2b4165a.js"><link rel="prefetch" href="/docs/assets/js/64.d8486d22.js"><link rel="prefetch" href="/docs/assets/js/65.af4f331f.js"><link rel="prefetch" href="/docs/assets/js/66.d64f451c.js"><link rel="prefetch" href="/docs/assets/js/67.82b71a7f.js"><link rel="prefetch" href="/docs/assets/js/68.5b56e61a.js"><link rel="prefetch" href="/docs/assets/js/69.72f02bf6.js"><link rel="prefetch" href="/docs/assets/js/7.baedf5d4.js"><link rel="prefetch" href="/docs/assets/js/70.fcb905ba.js"><link rel="prefetch" href="/docs/assets/js/71.49683781.js"><link rel="prefetch" href="/docs/assets/js/72.9b8b790e.js"><link rel="prefetch" href="/docs/assets/js/73.64d7137c.js"><link rel="prefetch" href="/docs/assets/js/74.f3289b73.js"><link rel="prefetch" href="/docs/assets/js/75.385817b8.js"><link rel="prefetch" href="/docs/assets/js/76.4f9c8f0f.js"><link rel="prefetch" href="/docs/assets/js/77.705c0928.js"><link rel="prefetch" href="/docs/assets/js/78.089a60d1.js"><link rel="prefetch" href="/docs/assets/js/79.8ac29e67.js"><link rel="prefetch" href="/docs/assets/js/8.23db660c.js"><link rel="prefetch" href="/docs/assets/js/80.3ee00b43.js"><link rel="prefetch" href="/docs/assets/js/81.dd03fbe4.js"><link rel="prefetch" href="/docs/assets/js/82.5ccda2f5.js"><link rel="prefetch" href="/docs/assets/js/83.df9e7d02.js"><link rel="prefetch" href="/docs/assets/js/84.57894757.js"><link rel="prefetch" href="/docs/assets/js/85.b5217801.js"><link rel="prefetch" href="/docs/assets/js/86.3b411713.js"><link rel="prefetch" href="/docs/assets/js/87.939a3b65.js"><link rel="prefetch" href="/docs/assets/js/88.06db17fa.js"><link rel="prefetch" href="/docs/assets/js/9.7d311efc.js"><link rel="prefetch" href="/docs/assets/js/90.f5cd771f.js"><link rel="prefetch" href="/docs/assets/js/91.6e0205aa.js"><link rel="prefetch" href="/docs/assets/js/92.aba3e766.js"><link rel="prefetch" href="/docs/assets/js/93.e2706817.js"><link rel="prefetch" href="/docs/assets/js/94.128f0849.js"><link rel="prefetch" href="/docs/assets/js/95.0a8f0396.js"><link rel="prefetch" href="/docs/assets/js/96.7d979640.js"><link rel="prefetch" href="/docs/assets/js/97.8d2c052b.js"><link rel="prefetch" href="/docs/assets/js/98.67cd5a50.js"><link rel="prefetch" href="/docs/assets/js/99.8f104b87.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.1d9bae28.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.08a0a794.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/images/rundecklogo-black.png" alt="Rundeck Docs" class="logo"> <span class="site-name can-hide">Rundeck Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">User Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/manual/01-introduction.html" class="nav-link">Introduction</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/02-getting-help.html" class="nav-link">Getting Help</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/03-getting-started.html" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/04-jobs.html" class="nav-link">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/05-nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/06-commands.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/07-executions.html" class="nav-link">Executions</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/08-activity.html" class="nav-link">Activity</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/09-configure.html" class="nav-link">Configure</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/10-user.html" class="nav-link">User</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/11-node-filters.html" class="nav-link">Node Filters</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tutorials</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/tutorials/index.html" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/project-setup.html" class="nav-link">Project Setup</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/jobs.html" class="nav-link">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/command-dispatch.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/access-control.html" class="nav-link">Access Control</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/option-provider.html" class="nav-link">Option Provider</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/custom-script-plugin-hello-world.html" class="nav-link">Custom Script Plugin - Hello World</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/custom-script-plugin-db-cred-rotation.html" class="nav-link">Custom Script Plugin - DB Credential Rotation</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/log-filters.html" class="nav-link">Log Filters</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/java-plugin.html" class="nav-link">Java Plugin</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Administration</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/administration/" class="nav-link router-link-active">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/install/" class="nav-link">Installation</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/configuration/" class="nav-link">Configuration</a></li><li class="dropdown-item"><!----> <a href="/docs/plugins/" class="nav-link">Plugins</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/security/default-users.html" class="nav-link">Security</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/maintenance/index.html" class="nav-link">Maintenance</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/upgrading/index.html" class="nav-link">Upgrading</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/cluster/index.html" class="nav-link">Cluster</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/projects/index.html" class="nav-link">Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Enterprise</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/enterprise/" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs/enterprise/quickstart.html" class="nav-link">Quickstart</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/api/rundeck-api.html" class="nav-link">API</a></li><li class="dropdown-item"><!----> <a href="/docs/developer/index.html" class="nav-link">Plugin Development</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/command-line-tools/" class="nav-link">Command Line Tools</a></li><li class="dropdown-item"><!----> <a href="/docs/history/index.html" class="nav-link">Change Log</a></li></ul></div></div> <a href="https://github.com/rundeck/docs-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">User Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/manual/01-introduction.html" class="nav-link">Introduction</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/02-getting-help.html" class="nav-link">Getting Help</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/03-getting-started.html" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/04-jobs.html" class="nav-link">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/05-nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/06-commands.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/07-executions.html" class="nav-link">Executions</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/08-activity.html" class="nav-link">Activity</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/09-configure.html" class="nav-link">Configure</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/10-user.html" class="nav-link">User</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/11-node-filters.html" class="nav-link">Node Filters</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tutorials</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/tutorials/index.html" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/project-setup.html" class="nav-link">Project Setup</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/jobs.html" class="nav-link">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/command-dispatch.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/access-control.html" class="nav-link">Access Control</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/option-provider.html" class="nav-link">Option Provider</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/custom-script-plugin-hello-world.html" class="nav-link">Custom Script Plugin - Hello World</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/custom-script-plugin-db-cred-rotation.html" class="nav-link">Custom Script Plugin - DB Credential Rotation</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/log-filters.html" class="nav-link">Log Filters</a></li><li class="dropdown-item"><!----> <a href="/docs/tutorials/java-plugin.html" class="nav-link">Java Plugin</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Administration</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/administration/" class="nav-link router-link-active">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/install/" class="nav-link">Installation</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/configuration/" class="nav-link">Configuration</a></li><li class="dropdown-item"><!----> <a href="/docs/plugins/" class="nav-link">Plugins</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/security/default-users.html" class="nav-link">Security</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/maintenance/index.html" class="nav-link">Maintenance</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/upgrading/index.html" class="nav-link">Upgrading</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/cluster/index.html" class="nav-link">Cluster</a></li><li class="dropdown-item"><!----> <a href="/docs/administration/projects/index.html" class="nav-link">Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Enterprise</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/enterprise/" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs/enterprise/quickstart.html" class="nav-link">Quickstart</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/api/rundeck-api.html" class="nav-link">API</a></li><li class="dropdown-item"><!----> <a href="/docs/developer/index.html" class="nav-link">Plugin Development</a></li><li class="dropdown-item"><!----> <a href="/docs/manual/command-line-tools/" class="nav-link">Command Line Tools</a></li><li class="dropdown-item"><!----> <a href="/docs/history/index.html" class="nav-link">Change Log</a></li></ul></div></div> <a href="https://github.com/rundeck/docs-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Administration Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/administration/overview/system-architecture.html" class="sidebar-link">System Architecture</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Installation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Configuration</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Security</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Maintenance</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Cluster</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Projects</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="script-node-execution"><a href="#script-node-execution" aria-hidden="true" class="header-anchor">#</a> Script Node Execution</h1> <h2 id="custom-command-and-script-execution-with-the-script-plugin"><a href="#custom-command-and-script-execution-with-the-script-plugin" aria-hidden="true" class="header-anchor">#</a> Custom command and script execution with the script-plugin</h2> <p>Rundeck comes with a pre-installed plugin called <code>script-plugin</code> that includes two providers that may be useful to customize how to execute commands and script files on remote nodes.</p> <p>The <code>script-plugin</code> includes these providers:</p> <ul><li><code>script-exec</code> for the NodeExecutor service</li> <li><code>script-copy</code> for the FileCopier service</li></ul> <p>This plugin provides the ability to specify an external script or command
to perform a remote or local execution of a Rundeck command, and remote or local file copies.</p> <p>It can be a replacement for the built-in SSH-based remote execution and SCP-based file-copy mechanism to
allow you to user whatever external mechanism you wish.</p> <p>Note: this plugin offers similar functionality to the
[Script Plugin Development](/developer/01-plugin-development.md#script-plugin-development]
model. You may want to use this plugin to test your scripts, and
then later package them into a standalone plugin using that model.</p> <h3 id="configuring-script-exec"><a href="#configuring-script-exec" aria-hidden="true" class="header-anchor">#</a> Configuring script-exec</h3> <p>To configure the plugin you must specify a commandline string to execute. Optionally
you may specify a directory to be used as the working directory when executing
the commandline string, and a shell to invoke the command.</p> <p>You can configure these across all projects (framework-wide), a single project
(project-wide), or specifically for each node, with the most specific configuration
value taking precedence.</p> <h4 id="configuring-the-command-for-script-exec"><a href="#configuring-the-command-for-script-exec" aria-hidden="true" class="header-anchor">#</a> Configuring the command for script-exec</h4> <p>For Framework and Project-wide, configure a property in either the framework.properties or
project.properties files:</p> <p><code>plugin.script-exec.default.command</code></p> <p>: Specifies the default system command to run</p> <p>For node-specific add an attribute named <code>script-exec</code> to the node.</p> <p><code>script-exec</code></p> <p>: Specifies the system command to run</p> <p>See <a href="#defining-the-script-exec-command">Defining the script-exec command</a> for
what to specify for this property.</p> <h4 id="configuring-the-working-directory"><a href="#configuring-the-working-directory" aria-hidden="true" class="header-anchor">#</a> Configuring the working directory</h4> <p>For Framework and Project-wide, configure a property in either the framework.properties or
project.properties files:</p> <p><code>plugin.script-exec.default.dir</code></p> <p>: Specifies the default working directory for the execution</p> <p>For node-specific add an attribute named <code>script-exec-dir</code> to the node.</p> <p><code>script-exec-dir</code></p> <p>: Specifies the default working directory for the execution (optional)</p> <h4 id="configuring-the-shell"><a href="#configuring-the-shell" aria-hidden="true" class="header-anchor">#</a> Configuring the shell</h4> <p>For Framework and Project-wide, configure a property in either the framework.properties or
project.properties files:</p> <p><code>plugin.script-exec.default.shell</code></p> <p>: Specifies the shell to use to interpret the command, e.g. &quot;bash -c&quot; or &quot;cmd.exe /c&quot;</p> <p>For node-specific add an attribute named <code>script-exec-shell</code> to the node.</p> <p><code>script-exec-shell</code></p> <p>: Specifies the shell to use to interpret the command, e.g. &quot;bash -c&quot; or &quot;cmd.exe /c&quot; (optional)</p> <h4 id="defining-the-script-exec-command"><a href="#defining-the-script-exec-command" aria-hidden="true" class="header-anchor">#</a> Defining the script-exec command</h4> <p>The value of this property or attribute should be the complete commandline
string to execute in an external system process.</p> <p>You can use <em>Data context properties</em> as you can in normal Rundeck command
execution, such as <code>${node.name}</code> or <code>${job.name}</code>.</p> <p>In addition, the plugin provides these new data context properties:</p> <p><code>exec.command</code></p> <p>: The command that the workflow/user has specified to run on the node</p> <p><code>exec.dir</code></p> <p>: The working directory path if it is configured for the node or in a properties file</p> <p>Example:</p> <p>If you wanted to run some external remote connection command (&quot;/bin/execremote&quot;) in lieu of the
built-in ssh command, you could specify these attributes for node:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">mynode</span><span class="token punctuation">:</span>
    <span class="token key atrule">node-executor</span><span class="token punctuation">:</span> script<span class="token punctuation">-</span>exec
    <span class="token key atrule">script-exec</span><span class="token punctuation">:</span> /bin/execremote <span class="token punctuation">-</span>host $<span class="token punctuation">{</span>node.hostname<span class="token punctuation">}</span> <span class="token punctuation">-</span>user $<span class="token punctuation">{</span>node.username<span class="token punctuation">}</span> <span class="token punctuation">-</span><span class="token punctuation">-</span> $<span class="token punctuation">{</span>exec.command<span class="token punctuation">}</span>
</code></pre></div><p>If the command you want to run requires special handling (such as quoting or other interpretation) you may want to have a shell execute it. In which case you could specify the shell to use:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">mynode</span><span class="token punctuation">:</span>
    <span class="token key atrule">node-executor</span><span class="token punctuation">:</span> script<span class="token punctuation">-</span>exec
    <span class="token key atrule">script-exec-shell</span><span class="token punctuation">:</span> bash <span class="token punctuation">-</span>c
    <span class="token key atrule">script-exec</span><span class="token punctuation">:</span> ssh <span class="token punctuation">-</span>o &quot;some quoted option&quot; $<span class="token punctuation">{</span>node.username<span class="token punctuation">}</span>@$<span class="token punctuation">{</span>node.hostname<span class="token punctuation">}</span> $<span class="token punctuation">{</span>exec.command<span class="token punctuation">}</span>
</code></pre></div><p>At run time, the properties specified would be expanded to the values for the
specific node and command string to execute.</p> <p>OR, you could specify a default to apply to all nodes within the project.properties
file located at <code>$RDECK_BASE/projects/NAME/etc/project.properties</code>.</p> <pre><code>script-exec.default.command=/bin/execremote -host ${node.hostname} \
    -user ${node.username} -- ${exec.command}
</code></pre> <p>Similarly for the <code>$RDECK_BASE/etc/framework.properties</code> file to apply to all
projects.</p> <h4 id="requirements-for-the-script-exec-command"><a href="#requirements-for-the-script-exec-command" aria-hidden="true" class="header-anchor">#</a> Requirements for the script-exec command</h4> <p>The command run by by the script plugin is expected to behave in the following manner:</p> <ul><li>Exit with a system exit code of &quot;0&quot; in case of success.</li> <li>Any other exit code indicates failure</li></ul> <p>Note: all output from STDOUT and STDERR will be captured as part of the Rundeck job execution.</p> <h3 id="configuring-script-copy"><a href="#configuring-script-copy" aria-hidden="true" class="header-anchor">#</a> Configuring script-copy</h3> <p>To configure script-copy you must specify a commandline string to execute. Optionally
you may specify a directory to be used as the working directory when executing
the commandline string, and a shell to use to interpret the command.</p> <p>You must also specify the filepath on the target node where the script files will be placed, which can be done in two different ways.</p> <p>You can configure these across all projects (framework-wide), a single project
(project-wide), or specifically for each node, with the most specific configuration
value taking precedence.</p> <h4 id="configuring-the-command-for-script-copy"><a href="#configuring-the-command-for-script-copy" aria-hidden="true" class="header-anchor">#</a> Configuring the command for script-copy</h4> <p>For Framework and Project-wide, configure these properties in either the framework.properties or
project.properties files:</p> <p><code>plugin.script-copy.default.command</code></p> <p>: Specifies the default system command to run</p> <p>For node-specific add these attributes to the node.</p> <p><code>script-copy</code></p> <p>: Specifies the system command to run</p> <p>See <a href="#defining-the-script-copy-command">Defining the script-copy command</a> for
what to specify for this property.</p> <h4 id="configuring-the-working-directory-2"><a href="#configuring-the-working-directory-2" aria-hidden="true" class="header-anchor">#</a> Configuring the working directory</h4> <p>For Framework and Project-wide, configure a property in either the framework.properties or
project.properties files:</p> <p><code>plugin.script-copy.default.dir</code></p> <p>: Specifies the default working directory for the execution</p> <p>For node-specific add an attribute named <code>script-copy-dir</code> to the node.</p> <p><code>script-copy-dir</code></p> <p>: Specifies the default working directory for the execution (optional)</p> <h4 id="configuring-the-shell-2"><a href="#configuring-the-shell-2" aria-hidden="true" class="header-anchor">#</a> Configuring the shell</h4> <p>For Framework and Project-wide, configure a property in either the framework.properties or
project.properties files:</p> <p><code>plugin.script-copy.default.shell</code></p> <p>: Specifies the shell to run the command (optional)</p> <p>For node-specific add an attribute named <code>script-copy-shell</code> to the node.</p> <p><code>script-copy-shell</code></p> <p>: Specifies the shell to run the command (optional)</p> <h4 id="configuring-the-remote-filepath"><a href="#configuring-the-remote-filepath" aria-hidden="true" class="header-anchor">#</a> Configuring the remote filepath</h4> <p>For Framework and Project-wide, configure a property in either the framework.properties or
project.properties files:</p> <p><code>plugin.script-copy.default.remote-filepath</code></p> <p>: Specifies the full path of the copied file.</p> <p>For node-specific add an attribute named <code>script-copy-remote-filepath</code> to the node.</p> <p><code>script-copy-remote-filepath</code></p> <p>: Specifies the full path of the copied file.</p> <p>See <a href="#defining-the-script-copy-filepath">Defining the script-copy filepath</a> for
what to specify for this property.</p> <h4 id="defining-the-script-copy-command"><a href="#defining-the-script-copy-command" aria-hidden="true" class="header-anchor">#</a> Defining the script-copy command</h4> <p>The value of this property or attribute should be the complete commandline
string to execute in an external system process.</p> <p>You can use <em>Data context properties</em> as you can in normal Rundeck command
execution, such as <code>${node.name}</code> or <code>${job.name}</code>.</p> <p>In addition, the plugin provides these new data context properties:</p> <p><code>file-copy.file</code></p> <p>: The local filepath that should be copied to the remote node</p> <p><code>file-copy.filename</code></p> <p>: The name of the file without any path information.</p> <p><code>file-copy.destination</code></p> <p>: The full destination path to copy the file to.</p> <p>The plugin will be executed in two scenarios:</p> <ol><li>A script must be copied to the remote node into a temporary location in order to be executed
<ul><li>In this case, the <code>${file-copy.destination}</code> will be generated based on the <a href="#defining-the-script-copy-filepath">script-copy filepath</a> property.</li> <li>If the &quot;script-copy filepath&quot; is not set, then the <code>${file-copy.destination}</code> will be unknown, and be blank</li></ul></li> <li>A file must be copied to a specific destination path
<ul><li>In this case the <code>${file-copy.destination}</code> will be specified</li></ul></li></ol> <p>Example:</p> <p>If you wanted to run some external remote connection command (&quot;/bin/copyremote&quot;) in lieu of the
built-in SCP command, you could specify these attributes for node:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">mynode</span><span class="token punctuation">:</span>
    <span class="token key atrule">file-copier</span><span class="token punctuation">:</span> script<span class="token punctuation">-</span>copy
    <span class="token key atrule">script-copy</span><span class="token punctuation">:</span> /bin/copyremote <span class="token punctuation">-</span>host $<span class="token punctuation">{</span>node.hostname<span class="token punctuation">}</span> <span class="token punctuation">-</span>user $<span class="token punctuation">{</span>node.username<span class="token punctuation">}</span> <span class="token punctuation">-</span><span class="token punctuation">-</span> $<span class="token punctuation">{</span>file<span class="token punctuation">-</span>copy.file<span class="token punctuation">}</span> $<span class="token punctuation">{</span>file<span class="token punctuation">-</span>copy.destination<span class="token punctuation">}</span>
</code></pre></div><p>At run time, the properties specified would be expanded to the values for the
specific node and command string to execute.</p> <p>OR, you could specify a default to apply to all nodes within the project.properties
file located at <code>$RDECK_BASE/projects/NAME/etc/project.properties</code>.</p> <pre><code>script-copy.default.command=/bin/copyremote -host ${node.hostname} -user ${node.username} -- ${file-copy.file} ${file-copy.destination}
</code></pre> <p>Similarly for the <code>$RDECK_BASE/etc/framework.properties</code> file to apply to all
projects.</p> <h4 id="defining-the-script-copy-filepath"><a href="#defining-the-script-copy-filepath" aria-hidden="true" class="header-anchor">#</a> Defining the script-copy filepath</h4> <p>This property is used when copying a <em>script file</em> to the remote node, as the location that temporary script files should be placed. When copying any other type of file (such as using the Copy File Workflow Node Step Plugin), the destination will be provided and the script-copy filepath is not used.</p> <p>The value of this property or attribute should be the complete filepath on
the target node where copied script files are to be placed.</p> <p>You can do this in <em>two</em> ways, either as a configuration property as described here, or via output from your script, as described under <a href="#requirements-of-script-copy-command">Requirements of script-copy command</a>.</p> <p>You can use <em>Data context properties</em> as you can in normal Rundeck command
execution, such as <code>${node.name}</code> or <code>${job.name}</code>.</p> <p>In addition, the plugin provides these new data context properties:</p> <p><code>file-copy.file</code></p> <p>: The local filepath that should be copied to the remote node</p> <p><code>file-copy.filename</code></p> <p>: The name of the file without any path information.</p> <p>Example:</p> <p>Using the &quot;/bin/copyremote&quot; example from above, we need to set the <code>script-copy-remote-filepath</code> to the location on the remote node where the file is copied. Our example copies <code>${file-copy.file}</code> to the location <code>${node.destdir}</code>. This is an attribute on the Node that we assume to be configured with a directory path.</p> <p>We need to set the <code>script-copy-remote-filepath</code> to the location on the remote node where
the file will exist after being copied. We know the filename of the file is available as <code>${file-copy.filename}</code>, so we set it to <code>${node.destdir}/${file-copy.filename}</code>:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">mynode</span><span class="token punctuation">:</span>
    <span class="token key atrule">file-copier</span><span class="token punctuation">:</span> script<span class="token punctuation">-</span>copy
    <span class="token key atrule">script-copy</span><span class="token punctuation">:</span> /bin/copyremote <span class="token punctuation">-</span>host $<span class="token punctuation">{</span>node.hostname<span class="token punctuation">}</span> <span class="token punctuation">-</span>user $<span class="token punctuation">{</span>node.username<span class="token punctuation">}</span> <span class="token punctuation">-</span><span class="token punctuation">-</span> $<span class="token punctuation">{</span>file<span class="token punctuation">-</span>copy.file<span class="token punctuation">}</span> $<span class="token punctuation">{</span>file<span class="token punctuation">-</span>copy.destination<span class="token punctuation">}</span>
    <span class="token key atrule">script-copy-remote-filepath</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>node.destdir<span class="token punctuation">}</span>/$<span class="token punctuation">{</span>file<span class="token punctuation">-</span>copy.filename<span class="token punctuation">}</span>
</code></pre></div><p>At run time, the properties specified would be expanded to the values for the
specific node and command string to execute.</p> <p>OR, you could specify a default to apply to all nodes within the project.properties
file located at <code>$RDECK_BASE/projects/NAME/etc/project.properties</code>.</p> <pre><code>script-copy.default.remote-filepath=${node.destdir}/${file-copy.filename}
</code></pre> <p>Similarly for the <code>$RDECK_BASE/etc/framework.properties</code> file to apply to all
projects.</p> <h4 id="requirements-of-script-copy-command"><a href="#requirements-of-script-copy-command" aria-hidden="true" class="header-anchor">#</a> Requirements of script-copy command</h4> <p>The command executed by script-copy is expected to behave in the following manner:</p> <ul><li>Exit with an exit code of &quot;0&quot; to indicate success</li> <li>Exit with any other exit code indicates failure</li> <li><strong>Either</strong> <ul><li>Output the filepath of the copied file on the target node as the first line of output on STDOUT
OR</li> <li>Define the &quot;remote-filepath&quot; as described above</li></ul></li></ul> <h4 id="example-scripts"><a href="#example-scripts" aria-hidden="true" class="header-anchor">#</a> Example Scripts</h4> <p>Here are some example scripts to show the some possible usage patterns.</p> <p><strong>Example script-exec</strong>:</p> <p>Node definition:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">mynode</span><span class="token punctuation">:</span>
    <span class="token key atrule">node-executor</span><span class="token punctuation">:</span> script<span class="token punctuation">-</span>exec
</code></pre></div><p>Project config <code>project.properties</code> file:</p> <pre><code>plugin.script-exec.default.command=/tmp/myexec.sh ${node.hostname} ${node.username} -- ${exec.command}
</code></pre> <p>Contents of <code>/tmp/myexec.sh</code>:</p> <div class="language-bash .numberLines extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># args are [hostname] [username] -- [command to exec...]</span>

<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token variable">$1</span><span class="token punctuation">;</span> <span class="token builtin class-name">shift</span>
<span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token variable">$1</span><span class="token punctuation">;</span> <span class="token builtin class-name">shift</span>
<span class="token builtin class-name">printf</span> -v commands <span class="token string">'%q '</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>

<span class="token assign-left variable">REMOTECMD</span><span class="token operator">=</span>ssh

<span class="token builtin class-name">exec</span> <span class="token string">&quot;<span class="token variable">$REMOTECMD</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$user</span>@<span class="token variable">$host</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$command</span>&quot;</span>
</code></pre></div><p><strong>Example script-copy</strong>:</p> <p>Node definition:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">mynode</span><span class="token punctuation">:</span>
    <span class="token key atrule">file-copier</span><span class="token punctuation">:</span> script<span class="token punctuation">-</span>copy
    <span class="token key atrule">destdir</span><span class="token punctuation">:</span> /some/node/dir
    <span class="token key atrule">script-copy-remote-filepath</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>node.destdir<span class="token punctuation">}</span>/$<span class="token punctuation">{</span>file<span class="token punctuation">-</span>copy.filename<span class="token punctuation">}</span>
</code></pre></div><p>System-wide config in <code>framework.properties</code>:</p> <pre><code>plugin.script-copy.default.command=/tmp/mycopy.sh ${node.hostname} ${node.username} ${file-copy.destination} ${file-copy.file}
</code></pre> <p>Contents of <code>/tmp/mycopy.sh</code>:</p> <div class="language-bash .numberLines extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># args are [hostname] [username] [destpath] [filepath]</span>

<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token variable">$1</span><span class="token punctuation">;</span> <span class="token builtin class-name">shift</span>
<span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token variable">$1</span><span class="token punctuation">;</span> <span class="token builtin class-name">shift</span>
<span class="token assign-left variable">dest</span><span class="token operator">=</span><span class="token variable">$1</span><span class="token punctuation">;</span> <span class="token builtin class-name">shift</span>
<span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token variable">$1</span>

<span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token variable">${file<span class="token operator">##</span>*<span class="token operator">/</span>}</span>

<span class="token comment"># copy to node</span>
<span class="token assign-left variable">CPCMD</span><span class="token operator">=</span>scp

<span class="token string">&quot;<span class="token variable">$CPCMD</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$file</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$user</span>@<span class="token variable">$host</span>:<span class="token variable">$dest</span>&quot;</span> <span class="token operator">&gt;</span>/dev/null <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token variable">$?</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$dest</span>&quot;</span>
</code></pre></div><p><strong>Example system ssh replacement</strong>:</p> <p>This example uses the system's &quot;ssh&quot; and &quot;scp&quot; commands to perform node execution
and file copying, and doesn't make use of an external script file:</p> <p>Node-only configuration:</p> <div class="language-yaml .numberLines extra-class"><pre class="language-yaml"><code><span class="token key atrule">mynode</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> mynode
    <span class="token key atrule">username</span><span class="token punctuation">:</span> user1
    <span class="token key atrule">node-executor</span><span class="token punctuation">:</span> script<span class="token punctuation">-</span>exec
    <span class="token key atrule">script-exec</span><span class="token punctuation">:</span> ssh <span class="token punctuation">-</span>o &quot;StrictHostKeyChecking no&quot; $<span class="token punctuation">{</span>node.username<span class="token punctuation">}</span>@$<span class="token punctuation">{</span>node.hostname<span class="token punctuation">}</span> $<span class="token punctuation">{</span>exec.command<span class="token punctuation">}</span>
    <span class="token key atrule">script-exec-shell</span><span class="token punctuation">:</span> bash <span class="token punctuation">-</span>c
    <span class="token key atrule">file-copier</span><span class="token punctuation">:</span> script<span class="token punctuation">-</span>copy
    <span class="token key atrule">destdir</span><span class="token punctuation">:</span> /tmp
    <span class="token key atrule">script-copy-shell</span><span class="token punctuation">:</span> bash <span class="token punctuation">-</span>c
    <span class="token key atrule">script-copy</span><span class="token punctuation">:</span> scp $<span class="token punctuation">{</span>file<span class="token punctuation">-</span>copy.file<span class="token punctuation">}</span> $<span class="token punctuation">{</span>node.username<span class="token punctuation">}</span>@$<span class="token punctuation">{</span>node.hostname<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>file<span class="token punctuation">-</span>copy.destination<span class="token punctuation">}</span>
    <span class="token key atrule">script-copy-remote-filepath</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>node.destdir<span class="token punctuation">}</span>/$<span class="token punctuation">{</span>file<span class="token punctuation">-</span>copy.filename<span class="token punctuation">}</span>
</code></pre></div><p>This could all be set as defaults in the project.properties file, such as:</p> <pre><code># set default node executor
service.NodeExecutor.default.provider=script-exec

# set script-exec defaults
plugin.script-exec.default.command=ssh -o &quot;StrictHostKeyChecking no&quot; ${node.username}@${node.hostname} ${exec.command}
plugin.script-exec.default.shell=bash -c

#set default file copier
service.FileCopier.default.provider=script-copy

#set script-copy defaults
plugin.script-copy.default.command=scp ${file-copy.file} ${node.username}@${node.hostname}:${file-copy.destination}
plugin.script-copy.default.shell: bash -c
plugin.script-copy.default.remote-filepath: ${node.destdir}/${file-copy.filename}
</code></pre> <p>In which case your node definitions could be as simple as:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">mynode</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> mynode
    <span class="token key atrule">username</span><span class="token punctuation">:</span> user1
    <span class="token key atrule">destdir</span><span class="token punctuation">:</span> /tmp
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/rundeck/docs-vuepress/edit/master/docs/administration/projects/node-execution/script.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/8/2019, 1:30:39 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/administration/projects/node-execution/builtin.html" class="prev">
          Built-in Node Execution Plugins
        </a></span> <span class="next"><a href="/docs/administration/projects/node-execution/ssh.html">
          SSH Node Execution
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.6582d6fa.js" defer></script><script src="/docs/assets/js/3.6dae5529.js" defer></script><script src="/docs/assets/js/89.3597d562.js" defer></script>
  </body>
</html>
