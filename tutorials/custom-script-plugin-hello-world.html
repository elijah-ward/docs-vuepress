<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Developing a custom Rundeck script plugin | Rundeck Docs</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/docs-vuepress/assets/css/0.styles.4956cfce.css" as="style"><link rel="preload" href="/docs-vuepress/assets/js/app.603545d6.js" as="script"><link rel="preload" href="/docs-vuepress/assets/js/3.38dbc018.js" as="script"><link rel="preload" href="/docs-vuepress/assets/js/285.4ad131ca.js" as="script"><link rel="prefetch" href="/docs-vuepress/assets/js/10.d7b1ee75.js"><link rel="prefetch" href="/docs-vuepress/assets/js/100.0b8423d0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/101.b0f30adb.js"><link rel="prefetch" href="/docs-vuepress/assets/js/102.36bbab61.js"><link rel="prefetch" href="/docs-vuepress/assets/js/103.a6dc6ad3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/104.bd9dd1d0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/105.1803cbd2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/106.5d7a1883.js"><link rel="prefetch" href="/docs-vuepress/assets/js/107.8d8726d5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/108.3e24374a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/109.5a1b5d2a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/11.d13f5b5a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/110.85947fcc.js"><link rel="prefetch" href="/docs-vuepress/assets/js/111.764fe71c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/112.24d18163.js"><link rel="prefetch" href="/docs-vuepress/assets/js/113.eb4cb53c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/114.0b1900f6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/115.262cf1dc.js"><link rel="prefetch" href="/docs-vuepress/assets/js/116.ecbbfad7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/117.ebb8e2a7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/118.1349d253.js"><link rel="prefetch" href="/docs-vuepress/assets/js/119.ec9e096d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/12.6c33f5cd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/120.ade5cdd4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/121.41530724.js"><link rel="prefetch" href="/docs-vuepress/assets/js/122.1af39a08.js"><link rel="prefetch" href="/docs-vuepress/assets/js/123.060981b3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/124.bfdd528c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/125.23af6948.js"><link rel="prefetch" href="/docs-vuepress/assets/js/126.ccb9b222.js"><link rel="prefetch" href="/docs-vuepress/assets/js/127.d6305278.js"><link rel="prefetch" href="/docs-vuepress/assets/js/128.fb294548.js"><link rel="prefetch" href="/docs-vuepress/assets/js/129.f9cc4a27.js"><link rel="prefetch" href="/docs-vuepress/assets/js/13.3a7a6588.js"><link rel="prefetch" href="/docs-vuepress/assets/js/130.274ad6a9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/131.5a227274.js"><link rel="prefetch" href="/docs-vuepress/assets/js/132.9cc62988.js"><link rel="prefetch" href="/docs-vuepress/assets/js/133.2b431719.js"><link rel="prefetch" href="/docs-vuepress/assets/js/134.f44f6833.js"><link rel="prefetch" href="/docs-vuepress/assets/js/135.7d5d46d1.js"><link rel="prefetch" href="/docs-vuepress/assets/js/136.5955c1e3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/137.65e58660.js"><link rel="prefetch" href="/docs-vuepress/assets/js/138.338290fe.js"><link rel="prefetch" href="/docs-vuepress/assets/js/139.32f777f3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/14.0d16e304.js"><link rel="prefetch" href="/docs-vuepress/assets/js/140.1a8fe9bd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/141.2f6bd21e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/142.7b505140.js"><link rel="prefetch" href="/docs-vuepress/assets/js/143.a2a5533c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/144.45aed76b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/145.6d87d64b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/146.cfb10052.js"><link rel="prefetch" href="/docs-vuepress/assets/js/147.7a467c90.js"><link rel="prefetch" href="/docs-vuepress/assets/js/148.256bc514.js"><link rel="prefetch" href="/docs-vuepress/assets/js/149.6340b915.js"><link rel="prefetch" href="/docs-vuepress/assets/js/15.f08b6ce0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/150.481dc2da.js"><link rel="prefetch" href="/docs-vuepress/assets/js/151.4b35b21f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/152.f1574d79.js"><link rel="prefetch" href="/docs-vuepress/assets/js/153.20cc2087.js"><link rel="prefetch" href="/docs-vuepress/assets/js/154.dd9fa5cc.js"><link rel="prefetch" href="/docs-vuepress/assets/js/155.2551bb64.js"><link rel="prefetch" href="/docs-vuepress/assets/js/156.150b7477.js"><link rel="prefetch" href="/docs-vuepress/assets/js/157.acd18375.js"><link rel="prefetch" href="/docs-vuepress/assets/js/158.ae153b0d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/159.1f0d200f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/16.98effe06.js"><link rel="prefetch" href="/docs-vuepress/assets/js/160.31865cf3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/161.36ca094d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/162.a562686c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/163.b5b08fdc.js"><link rel="prefetch" href="/docs-vuepress/assets/js/164.cfee3d11.js"><link rel="prefetch" href="/docs-vuepress/assets/js/165.25c90303.js"><link rel="prefetch" href="/docs-vuepress/assets/js/166.6db6d709.js"><link rel="prefetch" href="/docs-vuepress/assets/js/167.556641d5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/168.4a34c167.js"><link rel="prefetch" href="/docs-vuepress/assets/js/169.1e4a03e3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/17.8c7c150d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/170.5b0573f5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/171.c21d6d8a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/172.5bdc16f2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/173.cbd93abb.js"><link rel="prefetch" href="/docs-vuepress/assets/js/174.94c3d971.js"><link rel="prefetch" href="/docs-vuepress/assets/js/175.88ecb7eb.js"><link rel="prefetch" href="/docs-vuepress/assets/js/176.9e3cc0d7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/177.d832401f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/178.57b8a404.js"><link rel="prefetch" href="/docs-vuepress/assets/js/179.c9695563.js"><link rel="prefetch" href="/docs-vuepress/assets/js/18.86d40636.js"><link rel="prefetch" href="/docs-vuepress/assets/js/180.44757e7a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/181.742b92c5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/182.34925fd0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/183.10ed2bd9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/184.4c5ed952.js"><link rel="prefetch" href="/docs-vuepress/assets/js/185.0b136ce5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/186.98e63297.js"><link rel="prefetch" href="/docs-vuepress/assets/js/187.94313f79.js"><link rel="prefetch" href="/docs-vuepress/assets/js/188.d414ecab.js"><link rel="prefetch" href="/docs-vuepress/assets/js/189.25c6e027.js"><link rel="prefetch" href="/docs-vuepress/assets/js/19.ca572c0e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/190.3ed7c469.js"><link rel="prefetch" href="/docs-vuepress/assets/js/191.3a3d9808.js"><link rel="prefetch" href="/docs-vuepress/assets/js/192.b5715cfe.js"><link rel="prefetch" href="/docs-vuepress/assets/js/193.ebd796cb.js"><link rel="prefetch" href="/docs-vuepress/assets/js/194.f13afca9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/195.3fddcb74.js"><link rel="prefetch" href="/docs-vuepress/assets/js/196.983eb868.js"><link rel="prefetch" href="/docs-vuepress/assets/js/197.732b09aa.js"><link rel="prefetch" href="/docs-vuepress/assets/js/198.57f6a97c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/199.6d4d2062.js"><link rel="prefetch" href="/docs-vuepress/assets/js/20.ca2b9d68.js"><link rel="prefetch" href="/docs-vuepress/assets/js/200.0afd352a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/201.271a693e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/202.23da5a18.js"><link rel="prefetch" href="/docs-vuepress/assets/js/203.221903fe.js"><link rel="prefetch" href="/docs-vuepress/assets/js/204.02432c5d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/205.c9c69ea3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/206.99e6d219.js"><link rel="prefetch" href="/docs-vuepress/assets/js/207.022836c9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/208.6b891c85.js"><link rel="prefetch" href="/docs-vuepress/assets/js/209.15039f92.js"><link rel="prefetch" href="/docs-vuepress/assets/js/21.dbd311ce.js"><link rel="prefetch" href="/docs-vuepress/assets/js/210.e88b3b7d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/211.f5097eec.js"><link rel="prefetch" href="/docs-vuepress/assets/js/212.53bb8560.js"><link rel="prefetch" href="/docs-vuepress/assets/js/213.44037af6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/214.4f633c5b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/215.b4ccee17.js"><link rel="prefetch" href="/docs-vuepress/assets/js/216.f33773bf.js"><link rel="prefetch" href="/docs-vuepress/assets/js/217.633041d2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/218.1fc5276e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/219.ccf92bc2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/22.c29918d1.js"><link rel="prefetch" href="/docs-vuepress/assets/js/220.6d37c325.js"><link rel="prefetch" href="/docs-vuepress/assets/js/221.92151a39.js"><link rel="prefetch" href="/docs-vuepress/assets/js/222.42e4897d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/223.ace8cfdd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/224.bd5c78b0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/225.1db76765.js"><link rel="prefetch" href="/docs-vuepress/assets/js/226.4b9d6cc3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/227.9160ce37.js"><link rel="prefetch" href="/docs-vuepress/assets/js/228.da640e6f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/229.4a48b93a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/23.61dca68f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/230.a4ff46a9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/231.6aec22de.js"><link rel="prefetch" href="/docs-vuepress/assets/js/232.051a05b6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/233.e4b5868e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/234.53459018.js"><link rel="prefetch" href="/docs-vuepress/assets/js/235.38d9cf8d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/236.66152724.js"><link rel="prefetch" href="/docs-vuepress/assets/js/237.50eeb603.js"><link rel="prefetch" href="/docs-vuepress/assets/js/238.f5b91a96.js"><link rel="prefetch" href="/docs-vuepress/assets/js/239.6d9665c6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/24.690d93a3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/240.a68cb422.js"><link rel="prefetch" href="/docs-vuepress/assets/js/241.065d31f1.js"><link rel="prefetch" href="/docs-vuepress/assets/js/242.02ffc1ff.js"><link rel="prefetch" href="/docs-vuepress/assets/js/243.29ef535f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/244.3b71913a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/245.1a931796.js"><link rel="prefetch" href="/docs-vuepress/assets/js/246.3501c97d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/247.f2f8d5c7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/248.5f8036f0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/249.431a8e14.js"><link rel="prefetch" href="/docs-vuepress/assets/js/25.7ba42a53.js"><link rel="prefetch" href="/docs-vuepress/assets/js/250.9ba628e0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/251.0c20f60c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/252.c9c58c60.js"><link rel="prefetch" href="/docs-vuepress/assets/js/253.ec02ffa6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/254.32418f78.js"><link rel="prefetch" href="/docs-vuepress/assets/js/255.16a110aa.js"><link rel="prefetch" href="/docs-vuepress/assets/js/256.ebd1b1bd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/257.29162156.js"><link rel="prefetch" href="/docs-vuepress/assets/js/258.5fa74689.js"><link rel="prefetch" href="/docs-vuepress/assets/js/259.6e584f73.js"><link rel="prefetch" href="/docs-vuepress/assets/js/26.0e646392.js"><link rel="prefetch" href="/docs-vuepress/assets/js/260.6691e5ae.js"><link rel="prefetch" href="/docs-vuepress/assets/js/261.f872a4a6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/262.d87503f5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/263.f684d213.js"><link rel="prefetch" href="/docs-vuepress/assets/js/264.d79de597.js"><link rel="prefetch" href="/docs-vuepress/assets/js/265.a3a90c5b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/266.16a3df04.js"><link rel="prefetch" href="/docs-vuepress/assets/js/267.8bbf466e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/268.158e4e01.js"><link rel="prefetch" href="/docs-vuepress/assets/js/269.8b5a0659.js"><link rel="prefetch" href="/docs-vuepress/assets/js/27.d24ffc59.js"><link rel="prefetch" href="/docs-vuepress/assets/js/270.1b8d00ba.js"><link rel="prefetch" href="/docs-vuepress/assets/js/271.ea910994.js"><link rel="prefetch" href="/docs-vuepress/assets/js/272.5ee7427d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/273.b4449741.js"><link rel="prefetch" href="/docs-vuepress/assets/js/274.5285d775.js"><link rel="prefetch" href="/docs-vuepress/assets/js/275.c2e5f042.js"><link rel="prefetch" href="/docs-vuepress/assets/js/276.95bac420.js"><link rel="prefetch" href="/docs-vuepress/assets/js/277.b3ca2ade.js"><link rel="prefetch" href="/docs-vuepress/assets/js/278.0fb3a121.js"><link rel="prefetch" href="/docs-vuepress/assets/js/279.eeda3cec.js"><link rel="prefetch" href="/docs-vuepress/assets/js/28.8d00df84.js"><link rel="prefetch" href="/docs-vuepress/assets/js/280.e398e379.js"><link rel="prefetch" href="/docs-vuepress/assets/js/281.e401c9e9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/282.8381a314.js"><link rel="prefetch" href="/docs-vuepress/assets/js/283.772566f0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/284.b0426807.js"><link rel="prefetch" href="/docs-vuepress/assets/js/286.997c9cfe.js"><link rel="prefetch" href="/docs-vuepress/assets/js/287.c8f9196c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/288.b0ef6c07.js"><link rel="prefetch" href="/docs-vuepress/assets/js/29.039417f2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/30.639064cd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/31.c7f8bf39.js"><link rel="prefetch" href="/docs-vuepress/assets/js/32.5c3d75aa.js"><link rel="prefetch" href="/docs-vuepress/assets/js/33.5b464a8b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/34.3def3d41.js"><link rel="prefetch" href="/docs-vuepress/assets/js/35.8fda7cd4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/36.c772b035.js"><link rel="prefetch" href="/docs-vuepress/assets/js/37.0c22c919.js"><link rel="prefetch" href="/docs-vuepress/assets/js/38.da98ab03.js"><link rel="prefetch" href="/docs-vuepress/assets/js/39.4463accb.js"><link rel="prefetch" href="/docs-vuepress/assets/js/4.89b7ca4b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/40.528b6035.js"><link rel="prefetch" href="/docs-vuepress/assets/js/41.d361cde0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/42.8262ce89.js"><link rel="prefetch" href="/docs-vuepress/assets/js/43.dd88990e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/44.5bd47822.js"><link rel="prefetch" href="/docs-vuepress/assets/js/45.31920ce8.js"><link rel="prefetch" href="/docs-vuepress/assets/js/46.299c0e9c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/47.4d4bf132.js"><link rel="prefetch" href="/docs-vuepress/assets/js/48.dd0ce2a8.js"><link rel="prefetch" href="/docs-vuepress/assets/js/49.f4cfd073.js"><link rel="prefetch" href="/docs-vuepress/assets/js/5.5bd5c8c4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/50.680c7beb.js"><link rel="prefetch" href="/docs-vuepress/assets/js/51.6815c3f8.js"><link rel="prefetch" href="/docs-vuepress/assets/js/52.f8ccc2d4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/53.7ddeb8a3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/54.24e814a0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/55.a498faf4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/56.e0714f8c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/57.cd6a3825.js"><link rel="prefetch" href="/docs-vuepress/assets/js/58.c517ef62.js"><link rel="prefetch" href="/docs-vuepress/assets/js/59.04901a80.js"><link rel="prefetch" href="/docs-vuepress/assets/js/6.8573468a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/60.609b54e6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/61.ef1dae34.js"><link rel="prefetch" href="/docs-vuepress/assets/js/62.f5e8d05c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/63.34d6aadc.js"><link rel="prefetch" href="/docs-vuepress/assets/js/64.0d9cd425.js"><link rel="prefetch" href="/docs-vuepress/assets/js/65.28021891.js"><link rel="prefetch" href="/docs-vuepress/assets/js/66.73110139.js"><link rel="prefetch" href="/docs-vuepress/assets/js/67.6ea58a5e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/68.810304d1.js"><link rel="prefetch" href="/docs-vuepress/assets/js/69.24f8e934.js"><link rel="prefetch" href="/docs-vuepress/assets/js/7.c2614fb2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/70.5094e954.js"><link rel="prefetch" href="/docs-vuepress/assets/js/71.778fe4a1.js"><link rel="prefetch" href="/docs-vuepress/assets/js/72.cc5a9f29.js"><link rel="prefetch" href="/docs-vuepress/assets/js/73.ed1ccec8.js"><link rel="prefetch" href="/docs-vuepress/assets/js/74.498cbf85.js"><link rel="prefetch" href="/docs-vuepress/assets/js/75.32c1788a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/76.3ef3919f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/77.848e9e64.js"><link rel="prefetch" href="/docs-vuepress/assets/js/78.f65dcfa4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/79.3fb33393.js"><link rel="prefetch" href="/docs-vuepress/assets/js/8.55fbb081.js"><link rel="prefetch" href="/docs-vuepress/assets/js/80.99969957.js"><link rel="prefetch" href="/docs-vuepress/assets/js/81.999f2fdd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/82.789d6b9a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/83.54c97544.js"><link rel="prefetch" href="/docs-vuepress/assets/js/84.de586b5a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/85.9d73b20f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/86.f0e0f6b0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/87.c2cbe4df.js"><link rel="prefetch" href="/docs-vuepress/assets/js/88.de98f8f4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/89.684ca263.js"><link rel="prefetch" href="/docs-vuepress/assets/js/9.862870a1.js"><link rel="prefetch" href="/docs-vuepress/assets/js/90.e8ff42c6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/91.76469bfe.js"><link rel="prefetch" href="/docs-vuepress/assets/js/92.2bff5260.js"><link rel="prefetch" href="/docs-vuepress/assets/js/93.40594c52.js"><link rel="prefetch" href="/docs-vuepress/assets/js/94.cb7e9f14.js"><link rel="prefetch" href="/docs-vuepress/assets/js/95.9069acd7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/96.f304272a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/97.5773730a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/98.f0be6d58.js"><link rel="prefetch" href="/docs-vuepress/assets/js/99.d9fffecd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/vendors~docsearch.245112bb.js">
    <link rel="stylesheet" href="/docs-vuepress/assets/css/0.styles.4956cfce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs-vuepress/" class="home-link router-link-active"><img src="/docs-vuepress/images/rundecklogo-black.png" alt="Rundeck Docs" class="logo"> <span class="site-name can-hide">Rundeck Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">User Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/01-introduction.html" class="nav-link">Introduction</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/02-getting-help.html" class="nav-link">Getting Help</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/03-getting-started.html" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/04-jobs.html" class="nav-link">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/05-nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/06-commands.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/07-executions.html" class="nav-link">Executions</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/08-activity.html" class="nav-link">Activity</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/09-configure.html" class="nav-link">Configure</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/10-user.html" class="nav-link">User</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/11-node-filters.html" class="nav-link">Node Filters</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tutorials</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/index.html" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/project-setup.html" class="nav-link">Project Setup</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/jobs.html" class="nav-link">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/command-dispatch.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/access-control.html" class="nav-link">Access Control</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/option-provider.html" class="nav-link">Option Provider</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html" class="nav-link router-link-exact-active router-link-active">Custom Script Plugin - Hello World</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/custom-script-plugin-db-cred-rotation.html" class="nav-link">Custom Script Plugin - DB Credential Rotation</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/log-filters.html" class="nav-link">Log Filters</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/java-plugin.html" class="nav-link">Java Plugin</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Administration</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/install/" class="nav-link">Installation</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/configuration/" class="nav-link">Configuration</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/plugins/" class="nav-link">Plugins</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/security/default-users.html" class="nav-link">Security</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/maintenance/index.html" class="nav-link">Maintenance</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/upgrading/index.html" class="nav-link">Upgrading</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/cluster/index.html" class="nav-link">Cluster</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/projects/index.html" class="nav-link">Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Enterprise</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/enterprise/" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/enterprise/quickstart.html" class="nav-link">Quickstart</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/api/rundeck-api.html" class="nav-link">API</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/developer/index.html" class="nav-link">Plugin Development</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/command-line-tools/" class="nav-link">Command Line Tools</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/history/index.html" class="nav-link">Change Log</a></li></ul></div></div> <a href="https://github.com/rundeck/docs-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">User Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/01-introduction.html" class="nav-link">Introduction</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/02-getting-help.html" class="nav-link">Getting Help</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/03-getting-started.html" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/04-jobs.html" class="nav-link">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/05-nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/06-commands.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/07-executions.html" class="nav-link">Executions</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/08-activity.html" class="nav-link">Activity</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/09-configure.html" class="nav-link">Configure</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/10-user.html" class="nav-link">User</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/11-node-filters.html" class="nav-link">Node Filters</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tutorials</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/index.html" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/project-setup.html" class="nav-link">Project Setup</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/jobs.html" class="nav-link">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/command-dispatch.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/access-control.html" class="nav-link">Access Control</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/option-provider.html" class="nav-link">Option Provider</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html" class="nav-link router-link-exact-active router-link-active">Custom Script Plugin - Hello World</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/custom-script-plugin-db-cred-rotation.html" class="nav-link">Custom Script Plugin - DB Credential Rotation</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/log-filters.html" class="nav-link">Log Filters</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/java-plugin.html" class="nav-link">Java Plugin</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Administration</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/install/" class="nav-link">Installation</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/configuration/" class="nav-link">Configuration</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/plugins/" class="nav-link">Plugins</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/security/default-users.html" class="nav-link">Security</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/maintenance/index.html" class="nav-link">Maintenance</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/upgrading/index.html" class="nav-link">Upgrading</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/cluster/index.html" class="nav-link">Cluster</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/projects/index.html" class="nav-link">Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Enterprise</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/enterprise/" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/enterprise/quickstart.html" class="nav-link">Quickstart</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/api/rundeck-api.html" class="nav-link">API</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/developer/index.html" class="nav-link">Plugin Development</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/command-line-tools/" class="nav-link">Command Line Tools</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/history/index.html" class="nav-link">Change Log</a></li></ul></div></div> <a href="https://github.com/rundeck/docs-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs-vuepress/tutorials/project-setup.html" class="sidebar-link">Planning for the project</a></li><li><a href="/docs-vuepress/tutorials/nodes.html" class="sidebar-link">Listing and filtering nodes</a></li><li><a href="/docs-vuepress/tutorials/jobs.html" class="sidebar-link">Jobs</a></li><li><a href="/docs-vuepress/tutorials/command-dispatch.html" class="sidebar-link">Commands</a></li><li><a href="/docs-vuepress/tutorials/access-control.html" class="sidebar-link">Access control</a></li><li><a href="/docs-vuepress/tutorials/option-provider.html" class="sidebar-link">Remote option provider</a></li><li><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html" class="active sidebar-link">Developing a custom Rundeck script plugin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#why-create-your-own-script-plugin" class="sidebar-link">Why create your own script plugin?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#encapsulate-and-reuse-functionality-across-projects-and-jobs" class="sidebar-link">Encapsulate and reuse functionality across projects and jobs</a></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#expose-script-parameters-to-the-ui-with-descriptions-types-and-defaults" class="sidebar-link">Expose script parameters to the UI with descriptions, types and defaults</a></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#securely-access-secrets-stored-in-key-storage" class="sidebar-link">Securely access secrets stored in Key Storage</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#how-to-create-a-simple-workflow-step-script-plugin" class="sidebar-link">How to create a simple workflow step script plugin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#script-to-wrap" class="sidebar-link">Script to wrap</a></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#basic-plugin-structure" class="sidebar-link">Basic plugin structure</a></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#setting-up-the-plugin-environment" class="sidebar-link">Setting up the plugin environment</a></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#pushing-configuration-to-rundeck" class="sidebar-link">Pushing configuration to Rundeck</a></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#running-the-hello-world-job" class="sidebar-link">Running the Hello World job</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html#next-a-real-world-use-case" class="sidebar-link">Next: a real world use case</a></li></ul></li><li><a href="/docs-vuepress/tutorials/custom-script-plugin-db-cred-rotation.html" class="sidebar-link">Use case: database credential rotation</a></li><li><a href="/docs-vuepress/tutorials/log-filters.html" class="sidebar-link">Using Log Filters</a></li><li><a href="/docs-vuepress/tutorials/java-plugin.html" class="sidebar-link">Developing a custom Rundeck Java plugin</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="developing-a-custom-rundeck-script-plugin"><a href="#developing-a-custom-rundeck-script-plugin" aria-hidden="true" class="header-anchor">#</a> Developing a custom Rundeck script plugin</h1> <p>In this tutorial we'll learn:</p> <ul><li>Why you might benefit from a custom Rundeck script plugin</li> <li>How to create a basic script plugin</li> <li>How to deploy the necessary Rundeck configuration to use it</li></ul> <p>The end result of this tutorial as well as a Docker environment to run it in can be found on <a href="https://github.com/clofresh/rundeck-playground" target="_blank" rel="noopener noreferrer">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="why-create-your-own-script-plugin"><a href="#why-create-your-own-script-plugin" aria-hidden="true" class="header-anchor">#</a> Why create your own script plugin?</h2> <p>Rundeck is an open source ops automation platform that comes with a lot of functionality out of the box, like running script commands on your nodes with a command step. If you can already run commands with the default functionality, why would you want to write a new plugin to do that?</p> <p>Several reasons:</p> <ul><li>To encapsulate and reuse functionality across projects and jobs</li> <li>To expose script parameters to the UI with descriptions, types and defaults</li> <li>To securely access secrets stored in Key Storage</li></ul> <h3 id="encapsulate-and-reuse-functionality-across-projects-and-jobs"><a href="#encapsulate-and-reuse-functionality-across-projects-and-jobs" aria-hidden="true" class="header-anchor">#</a> Encapsulate and reuse functionality across projects and jobs</h3> <p>Command defined as a command step are specific to a job. If you need to reuse the script in several jobs in the same or different projects, you would have to copy-paste it each time which can get to be cumbersome and error-prone.</p> <p>Using a custom plugin encapsulates the script so that job writers across any projects can use the script's functionality. When the plugin author uploads a new version the plugin, all jobs automatically use the latest version.</p> <h3 id="expose-script-parameters-to-the-ui-with-descriptions-types-and-defaults"><a href="#expose-script-parameters-to-the-ui-with-descriptions-types-and-defaults" aria-hidden="true" class="header-anchor">#</a> Expose script parameters to the UI with descriptions, types and defaults</h3> <p>Command line scripts can come with many parameters. When running them from command line, if you're lucky, you are able to get the help text from them. Some scripts may not have help on their parameters. When creating a custom script plugin, you can define, document and provide default values that make sense in the context of your organization for the parameters of your script. Conversely, you can also leave out parameters to a script that you don't want job authors to have access to.</p> <p>All the parameters defined in the plugin will show up in the Rundeck job editting UI, providing the job authors with afforances to guide them in using the script.</p> <h3 id="securely-access-secrets-stored-in-key-storage"><a href="#securely-access-secrets-stored-in-key-storage" aria-hidden="true" class="header-anchor">#</a> Securely access secrets stored in Key Storage</h3> <p>Many scripts require some type of secret to authorize the script to do its work so the job user needs to know the secret to use the script. This increases the risk of that secret getting exposed depending how your share secrets in your organization.</p> <p>A more secure solution would be to authorize the job user to use the secret without them actually know its value. Plugins can access secrets by referring to paths in the Rundeck Key Storage. Rundeck will evaluate the value of the secret into the execution without the job user ever knowing the value. This reduces the scope of who needs to know the secret to the Rundeck administrator populating the Key Storage. It also lets the administrator rotate the secrets transparent to the job user.</p> <h2 id="how-to-create-a-simple-workflow-step-script-plugin"><a href="#how-to-create-a-simple-workflow-step-script-plugin" aria-hidden="true" class="header-anchor">#</a> How to create a simple workflow step script plugin</h2> <p>Now that we see the value in creating our own workflow step script plugin, we can walk through a simple Hello World example.</p> <h3 id="script-to-wrap"><a href="#script-to-wrap" aria-hidden="true" class="header-anchor">#</a> Script to wrap</h3> <p>We're going to wrap a simple bash script called helloworld.sh:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello world from <span class="token variable"><span class="token variable">$(</span><span class="token function">hostname</span><span class="token variable">)</span></span>! I am a <span class="token variable">$1</span>. Don't tell anyone that the secret is <span class="token entity" title="\&quot;">\&quot;</span><span class="token variable">$2</span><span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>
</code></pre></div><p>It prints the hostname it's called on and the first and second parameters passed to it. We can wrap a script from any scripting language as long as the intepreter is already deployed on the remote nodes.</p> <h3 id="basic-plugin-structure"><a href="#basic-plugin-structure" aria-hidden="true" class="header-anchor">#</a> Basic plugin structure</h3> <p>A Rundeck plugin is a zipped directory with the following structure:</p> <div class="language- extra-class"><pre class="language-text"><code>helloworld-plugin.zip
helloworld-plugin      -- root directory of zip contents, same name as zip file
├── plugin.yaml        -- plugin metadata file
└── contents           -- where to put your scripts
    └── helloworld.sh
</code></pre></div><p><code>plugin.yaml</code> is the only required file in the zip. This is the <code>plugin.yaml</code> for our Hello World plugin:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> Hello World
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token key atrule">rundeckPluginVersion</span><span class="token punctuation">:</span> <span class="token number">1.2</span>
<span class="token key atrule">author</span><span class="token punctuation">:</span> Carlo Cabanilla
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-07-20</span>
<span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//rundeck.org/
<span class="token key atrule">providers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> HelloBash
    <span class="token key atrule">service</span><span class="token punctuation">:</span> RemoteScriptNodeStep
    <span class="token key atrule">plugin-type</span><span class="token punctuation">:</span> script
    <span class="token key atrule">script-interpreter</span><span class="token punctuation">:</span> /bin/bash
    <span class="token key atrule">script-file</span><span class="token punctuation">:</span> helloworld.sh
    <span class="token key atrule">script-args</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>config.who_i_am<span class="token punctuation">}</span> $<span class="token punctuation">{</span>config.secret_secret<span class="token punctuation">}</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> who_i_am
        <span class="token key atrule">type</span><span class="token punctuation">:</span> Select
        <span class="token key atrule">title</span><span class="token punctuation">:</span> Who I Am
        <span class="token key atrule">description</span><span class="token punctuation">:</span> Provide a predefined list of options
        <span class="token key atrule">values</span><span class="token punctuation">:</span> machine<span class="token punctuation">,</span> mannequin
        <span class="token key atrule">default</span><span class="token punctuation">:</span> machine
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> secret_secret
        <span class="token key atrule">type</span><span class="token punctuation">:</span> String
        <span class="token key atrule">title</span><span class="token punctuation">:</span> My Secret
        <span class="token key atrule">description</span><span class="token punctuation">:</span> Securely pass this to the script
        <span class="token key atrule">renderingOptions</span><span class="token punctuation">:</span>
          <span class="token key atrule">valueConversion</span><span class="token punctuation">:</span> <span class="token string">&quot;STORAGE_PATH_AUTOMATIC_READ&quot;</span>
</code></pre></div><p>The significant section is the item in the <code>providers</code> array. It says we're creating a RemoteScriptNodeStep named HelloBash. A RemoteScriptNodeStep means the script will run on the remote nodes, as opposed to a WorkflowNodeStep, which runs on the Rundeck server itself and receives the nodes as parameters.</p> <h4 id="script-invokation"><a href="#script-invokation" aria-hidden="true" class="header-anchor">#</a> Script invokation</h4> <p>The values for <code>script-interpreter</code>, <code>script-file</code>, and <code>script-args</code> are invoked on the remote node as follows:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>/bin/bash helloworld.sh <span class="token variable">${job.name}</span>
</code></pre></div><p><code>helloworld.sh</code> only needs to be bundled in the plugin zip contents directory and Rundeck takes care of copying it to the remote nodes that it runs on.</p> <p>The <code>script-args</code> value we pass to the script, <code>${job.name}</code> is one of many context variables that Rundeck sets.</p> <h4 id="script-parameters"><a href="#script-parameters" aria-hidden="true" class="header-anchor">#</a> Script parameters</h4> <p>The <code>config</code> key defines the inputs to the script, their types, defaults and how they're rendered in the UI.</p> <p>The <code>who_i_am</code> item describes a select box with predefined values of <code>machine</code> or <code>mannequin</code>, defaulting to <code>machine</code>.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> who_i_am
  <span class="token key atrule">type</span><span class="token punctuation">:</span> Select
  <span class="token key atrule">title</span><span class="token punctuation">:</span> Who I Am
  <span class="token key atrule">description</span><span class="token punctuation">:</span> Provide a predefined list of options
  <span class="token key atrule">values</span><span class="token punctuation">:</span> machine<span class="token punctuation">,</span> mannequin
  <span class="token key atrule">default</span><span class="token punctuation">:</span> machine
</code></pre></div><p>The <code>secret_secret</code> item is a string value but the <code>valueConversion: &quot;STORAGE_PATH_AUTOMATIC_READ&quot;</code> tells Rundeck to interpret that string as a path in Key Storage and pass the value of that key to the script. This is how we can securely reference secrets without exposing them to the job users.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> secret_secret
  <span class="token key atrule">type</span><span class="token punctuation">:</span> String
  <span class="token key atrule">title</span><span class="token punctuation">:</span> My Secret
  <span class="token key atrule">description</span><span class="token punctuation">:</span> Securely pass this to the script
  <span class="token key atrule">renderingOptions</span><span class="token punctuation">:</span>
    <span class="token key atrule">valueConversion</span><span class="token punctuation">:</span> <span class="token string">&quot;STORAGE_PATH_AUTOMATIC_READ&quot;</span>
</code></pre></div><h3 id="setting-up-the-plugin-environment"><a href="#setting-up-the-plugin-environment" aria-hidden="true" class="header-anchor">#</a> Setting up the plugin environment</h3> <p>How can we actually see this plugin in action? Rundeck is designed for real world multi-node environments but we don't want the hassle of actually spinning one up, so we use Docker to simulate a multi-node environment right on our workstation.</p> <p>The environment setup can be downloaded at <a href="https://github.com/clofresh/rundeck-playground" target="_blank" rel="noopener noreferrer">https://github.com/clofresh/rundeck-playground<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>To build and start the Docker environment, run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">make</span> compose
</code></pre></div><p>This make command is specific to this tutorial. It will do several things:</p> <ol><li>Zip the plugin source files into the proper zip structure and save it in the Rundeck image's build directory</li> <li>Run Docker Compose to build all the images specified in <code>docker-compose.yml</code> and run containers from those images. Docker Compose will run the containers in the foreground, outputting all their logs to your terminal.</li></ol> <p>The containers in our environment are:</p> <ul><li>rundeck: The Rundeck server. The Dockerfile copies the zipped plugin into the image's <code>libext</code> directory where Rundeck will watch for new plugins.</li> <li>rundeck-cli: The Rundeck command line client. This image doesn't run as a service but instead we invoke it from command line to push configuration and invoke jobs on the Rundeck server.</li> <li>web_1 &amp; web_2: Containers that simulate your application nodes. They run both an ssh daemon and a sample web app. These are the nodes that Rundeck will execute our plugin on.</li></ul> <h3 id="pushing-configuration-to-rundeck"><a href="#pushing-configuration-to-rundeck" aria-hidden="true" class="header-anchor">#</a> Pushing configuration to Rundeck</h3> <p>Once our Docker environment is up and the Rundeck server is listening for requests, we can push a sample project and job that will use our plugin. We do that from a separate terminal that our <code>make compose</code> command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">make</span> rd-config
</code></pre></div><p>This will:</p> <ul><li>Check for changes in our plugin source files, and if so, copy a new plugin zip into the running Rundeck container.</li> <li>Push all the Rundeck yaml config in <code>rundeck-project</code> to the running Rundeck server.</li> <li>Push the keys in <code>rundeck-project/key-storage</code> to the Key Storage.</li></ul> <p>With this command, you can iterate on your plugin or job configuration without having to stop and start the Docker environment. Additionally, it will only push config that has changed.</p> <p>The configuration we're pushing defines the nodes, project and job that use our plugin.</p> <p>If you just want to run the job, you can skip ahead to <em>Running the Hello World job</em>, otherwise we walk through the config involved in the sections below.</p> <h4 id="nodes"><a href="#nodes" aria-hidden="true" class="header-anchor">#</a> Nodes</h4> <p>In order for Rundeck to know which nodes exist in your environment and how to connect to them, we provide a resource source yaml file:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">web_1</span><span class="token punctuation">:</span>
  <span class="token key atrule">hostname</span><span class="token punctuation">:</span> web_1
  <span class="token key atrule">tags</span><span class="token punctuation">:</span> web

<span class="token key atrule">web_2</span><span class="token punctuation">:</span>
  <span class="token key atrule">hostname</span><span class="token punctuation">:</span> web_2
  <span class="token key atrule">tags</span><span class="token punctuation">:</span> web
</code></pre></div><h4 id="project"><a href="#project" aria-hidden="true" class="header-anchor">#</a> Project</h4> <p>To use the above defined resource source file, we set the following properties on the project:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">project.ssh.user</span><span class="token punctuation">=</span><span class="token attr-value">root</span>
<span class="token attr-name">project.ssh-keypath</span><span class="token punctuation">=</span><span class="token attr-value">/home/rundeck/.ssh/rundeck-playground</span>
<span class="token attr-name">resources.source.1.config.file</span><span class="token punctuation">=</span><span class="token attr-value">/home/rundeck/nodes.yaml</span>
<span class="token attr-name">resources.source.1.config.generateFileAutomatically</span><span class="token punctuation">=</span><span class="token attr-value">false</span>
<span class="token attr-name">resources.source.1.config.includeServerNode</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token attr-name">resources.source.1.type</span><span class="token punctuation">=</span><span class="token attr-value">file</span>
</code></pre></div><p><code>project.ssh.user</code> and <code>project.ssh-keypath</code> configure the ssh user and private key to use when connecting to any node with this project. It's up to you to properly distribute the ssh keys to your nodes. In our playground environment, we've bundled the keys into the Docker images.</p> <p><code>resources.source.1.config.file</code> points to the <code>nodes.yaml</code> file we created previously.</p> <p>Both the ssh private key and the <code>nodes.yaml</code> file need to be deployed to the Rundeck server and be readable by the rundeck user.</p> <h4 id="job"><a href="#job" aria-hidden="true" class="header-anchor">#</a> Job</h4> <p>To define our job, we create another yaml file, <code>rundeck-project/hello_test_job.yaml</code>:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Hello Test Job
  <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&quot;A job to test our hello world plugin&quot;</span>
  <span class="token key atrule">nodefilters</span><span class="token punctuation">:</span>
    <span class="token key atrule">filter</span><span class="token punctuation">:</span> web_.*
  <span class="token key atrule">sequence</span><span class="token punctuation">:</span>
    <span class="token key atrule">commands</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">nodeStep</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">type</span><span class="token punctuation">:</span> HelloBash
        <span class="token key atrule">configuration</span><span class="token punctuation">:</span>
          <span class="token key atrule">secret_secret</span><span class="token punctuation">:</span> keys/projects/hello<span class="token punctuation">-</span>project/mysecret
</code></pre></div><p>Some values to note:</p> <ul><li>The <code>nodefilters</code> key is letting us specify a regex to match the tags of the nodes we want to run this job on. In our case, any of the web nodes.</li> <li>The <code>sequence</code> key defines what the job should run. In our case, we're running one command, a node step of our HelloBash script from our custom plugin.</li> <li>The <code>configuration</code> key of the node step is how we pass configuration into our script. Note that we're passing in a Key Storage path instead of an actual value.</li></ul> <h3 id="running-the-hello-world-job"><a href="#running-the-hello-world-job" aria-hidden="true" class="header-anchor">#</a> Running the Hello World job</h3> <p>Now that we've spun up a Rundeck environment and defined a job that uses our plugin, we can run it using the <code>rd</code> command line client. If you had the <code>rd</code> client installed natively, it would be as simple as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">RD_PROJECT</span><span class="token operator">=</span>hello-project
rd run -f --job <span class="token string">'Hello Test Job'</span>
</code></pre></div><p>But since we're running <code>rd</code> from a Docker container, we need some extra commands to get it to run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">alias</span> <span class="token assign-left variable">rd</span><span class="token operator">=</span><span class="token string">'docker run --network rundeck-playground_default --mount type=bind,source=&quot;<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>&quot;,target=/root -e RD_PROJECT=hello-project playground-rundeck-cli '</span>

rd run -f --job <span class="token string">'Hello Test Job'</span>
</code></pre></div><p>The <code>rd</code> alias we've created lets us type less and use the <code>rd</code> command as if it were running natively on our workstation.</p> <p>All this is encapsulated in a make command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">make</span> rd-run-job

<span class="token comment"># Found matching job: 7fd65208-4482-456b-9d76-aa099171938e Hello Test Job</span>
<span class="token comment"># Execution started: [3] 7fd65208-4482-456b-9d76-aa099171938e /Hello Test Job &lt;http://127.0.0.1:4440/project/hello-project/execution/show/3&gt;</span>
Hello world from abee114adea5<span class="token operator">!</span> Don<span class="token string">'t tell anyone that the secret is &quot;I'</span>m Kilroy<span class="token operator">!</span><span class="token string">&quot;
Hello world from 9964ad40468a! Don't tell anyone that the secret is &quot;</span>I'm Kilroy<span class="token operator">!</span>&quot;
</code></pre></div><p>The script outputs the hostnames it's running on, which will most likely be different but similar to the above, as well as the secret &quot;I'm Kilroy!&quot;. Remember that we passed in a Key Storage path value <code>keys/projects/hello-project/mysecret</code> for that parameter. To double check that that's the correct value, you can cat the value on disk that we pushed to the Rundeck server:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> rundeck-project/key-storage/keys/projects/hello-project/mysecret
I'm Kilroy<span class="token operator">!</span>
</code></pre></div><p>Another thing to notice is that even though we've securely passed the secret to the script plugin, once the script plugin has it, they can do whatever with the value, including expose it in the logs, so the script writer needs to be cautious about that.</p> <h2 id="next-a-real-world-use-case"><a href="#next-a-real-world-use-case" aria-hidden="true" class="header-anchor">#</a> Next: a real world use case</h2> <p>Now that we understand the basics of how a custom script plugin works, we can use it to solve a real world use case: <a href="/docs-vuepress/tutorials/custom-script-plugin-db-cred-rotation.html">rotating database credentials</a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/rundeck/docs-vuepress/edit/master/docs/tutorials/custom-script-plugin-hello-world.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/1/2019, 7:40:35 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs-vuepress/tutorials/option-provider.html" class="prev">
          Remote option provider
        </a></span> <span class="next"><a href="/docs-vuepress/tutorials/custom-script-plugin-db-cred-rotation.html">
          Use case: database credential rotation
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs-vuepress/assets/js/app.603545d6.js" defer></script><script src="/docs-vuepress/assets/js/3.38dbc018.js" defer></script><script src="/docs-vuepress/assets/js/285.4ad131ca.js" defer></script>
  </body>
</html>
